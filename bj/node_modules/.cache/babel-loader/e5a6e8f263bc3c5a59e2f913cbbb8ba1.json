{"ast":null,"code":"/*\n\t�uJavaScript �u���b�N�W���b�N�v\t\t2004/05/06��\n\n\tTHU\n\tmadpoet@thu.sakura.ne.jp\n\thttp://thu.sakura.ne.jp/\n*/\n\n//\t�u���b�N�W���b�N�����p�N���X\nimport { useNavigate } from \"react-router-dom\";\nconst id = \"blackJ\";\nfunction BlackJack() {\n  this.fieldId = arguments[0];\n  this.debug = false;\n  this.point = 100; // �����_��\n  this.size = 8; // �S�̂̃T�C�Y���{�l\n  this.speed = 100; // �J�[�h�z�z�҂�����\n  this.waitTime = 1000; // �����\\���҂�����\n  this.color = 'black'; // �����F\n  this.outFrameColor = 'black'; // ���ԊO���̘g���̐F\n  this.bgColor = 'limegreen'; // �t�B�[���h�̔w�i�F\n  this.frameColor = 'black'; // �g���̐F\n  this.cardColor = 'white'; // �J�[�h�̐F\n  this.cardBackColor = 'royalblue'; // �J�[�h�̗��ʂ̐F\n\n  this.clickOk = false;\n  this.count = 0;\n  this.actionId = 0;\n  var i;\n  for (i = 1; i < arguments.length; i++) {\n    if (i == 1) {\n      this.point = arguments[i];\n    } else if (i == 2) {\n      this.size = arguments[i];\n    } else if (i == 3) {\n      this.speed = arguments[i];\n    } else if (i == 4) {\n      this.waitTime = arguments[i];\n    } else if (i == 5) {\n      this.color = arguments[i];\n    } else if (i == 6) {\n      this.outFrameColor = arguments[i];\n    } else if (i == 7) {\n      this.bgColor = arguments[i];\n    } else if (i == 8) {\n      this.frameColor = arguments[i];\n    } else if (i == 9) {\n      this.cardColor = arguments[i];\n    } else if (i == 10) {\n      this.cardBackColor = arguments[i];\n    }\n  }\n  if (this.node = document.getElementById(this.fieldId)) {\n    this.dealerModel = new DealerModel();\n    this.playerModel = new PlayerModel(this.point);\n    this.cardView = new CardView(this.size, this.color, this.frameColor, this.cardColor, this.cardBackColor, this.bgColor);\n    this.fieldView = new FieldView(this.fieldId, this.size, this.color, this.outFrameColor, this.bgColor, this.frameColor);\n    this.mode = 'start';\n    this.enter();\n    this.debugView('set');\n    this.clickOk = true;\n  }\n}\n\n//\t�u���b�N�W���b�N�����F�R�}���h�̎��s�ƕ\\��\n_c = BlackJack;\nBlackJack.prototype.enter = function () {\n  var i, j, id, tmp;\n  if (this.mode == 'start') {\n    var card = -2;\n    for (i = 0; i < 5; i++) {\n      card++;\n      this.dealerModel.card[i] = card;\n    }\n    for (j = 0; j < 2; j++) {\n      for (i = 0; i < 5; i++) {\n        card++;\n        this.playerModel.card[j][i] = card;\n      }\n    }\n    this.cardClearAndSet();\n    this.fieldView.commandSet('start');\n  } else if (this.mode == 'bet') {\n    if (this.playerModel.point >= 10) {\n      this.fieldView.messageView('Please bet.');\n      this.dealerModel.init(), this.playerModel.init();\n      this.cardClearAndSet();\n      this.fieldView.commandSet('bet');\n      if (this.playerModel.bet > this.playerModel.point) {\n        tmp = this.playerModel.point;\n        tmp -= tmp % 10;\n        this.playerModel.bet = tmp;\n      }\n      this.playerModel.point -= this.playerModel.bet;\n      this.fieldView.pointView(this.playerModel.bet, 1);\n      this.fieldView.pointView(this.playerModel.point);\n      this.debugView();\n    } else {\n      this.fieldView.pointView(this.playerModel.point);\n      this.fieldView.messageView('you are lacking in points.');\n      this.fieldView.commandSet('restart');\n    }\n  } else if (this.mode == 'dealEnd') {\n    this.fieldView.frameSet(1);\n    this.playerModel.bjCheck();\n    this.dealerModel.bjCheck();\n    if (this.playerModel.bj) {\n      this.fieldView.messageView('BlackJack !');\n    } else {\n      this.fieldView.messageView('Hit or Stand? Or ...');\n    }\n    this.fieldView.commandSet();\n    if (this.dealerModel.card[0] == 1 && !this.playerModel.insurance) {\n      var insBet = this.playerModel.bet / 2;\n      if (this.playerModel.point >= insBet) {\n        if (this.playerModel.bj) {\n          this.fieldView.commandSet('evenMoney', 1);\n        } else {\n          this.fieldView.commandSet('insurance', 1);\n        }\n      }\n    }\n    var card1 = this.playerModel.card[0][0];\n    if (card1 > 10) {\n      card1 = 10;\n    }\n    var card2 = this.playerModel.card[0][1];\n    if (card2 > 10) {\n      card2 = 10;\n    }\n    if (card1 == card2) {\n      if (this.playerModel.point >= this.playerModel.bet) {\n        this.fieldView.commandSet('split', 1);\n      }\n    }\n    if (this.playerModel.point >= this.playerModel.bet) {\n      if (!this.playerModel.bj) {\n        this.fieldView.commandSet('doubleDown', 1);\n      }\n    }\n    if (!this.playerModel.bj) {\n      this.fieldView.commandSet('surrender', 1);\n      this.fieldView.commandSet('hit', 1);\n    }\n    this.fieldView.commandSet('stand', 1);\n    this.debugView();\n  } else if (this.mode == 'hitOrStand') {\n    var dd = false;\n    if (this.playerModel.split) {\n      var sp = 0;\n      if (this.playerModel.split == 2) {\n        sp = 1;\n      }\n      var len = this.playerModel.card[sp].length;\n      if (len == 2 && this.playerModel.point >= this.playerModel.bet) {\n        dd = true;\n      }\n    }\n    if (dd) {\n      this.fieldView.messageView('Hit or Stand? Or ...');\n      this.fieldView.commandSet('doubleDown');\n      this.fieldView.commandSet('hit', 1);\n      this.fieldView.commandSet('stand', 1);\n    } else {\n      this.fieldView.messageView('Hit or Stand?');\n      this.fieldView.commandSet('hit');\n      this.fieldView.commandSet('stand', 1);\n    }\n    this.debugView();\n  }\n};\n\n//\t�u���b�N�W���b�N�����F�J�[�h�̏����Z�b�g\nBlackJack.prototype.cardClearAndSet = function (target) {\n  // target�i0:�f�B�[���A1:�v���C���A�����`�F�o���j\n  var i, j, id;\n  if (target == 0 || target == null) {\n    // �f�B�[���̃J�[�h���Z�b�g\n    for (i = 1; i <= 5; i++) {\n      id = this.fieldId + '_dField_c' + i;\n      this.cardView.clear(id);\n    }\n    if (this.dealerModel.card.length == 0) {\n      id = this.fieldId + '_dField_c1';\n      this.cardView.set(id, 20);\n    } else {\n      for (i = 1; i <= this.dealerModel.card.length; i++) {\n        id = this.fieldId + '_dField_c' + i;\n        this.cardView.set(id, this.dealerModel.card[i - 1]);\n      }\n    }\n  }\n  if (target == 1 || target == null) {\n    // �v���C���̃J�[�h���Z�b�g\n    id = this.fieldId + '_pCardField';\n    this.fieldView.clear(id);\n    var length, num;\n    if (this.playerModel.card[1].length > 0) {\n      this.fieldView.cardFieldSet(id, 1);\n      for (j = 1; j <= 2; j++) {\n        length = this.playerModel.card[j - 1].length;\n        for (i = 1; i <= length; i++) {\n          id = this.fieldId;\n          id += '_pField' + j + '_c' + i;\n          num = this.playerModel.card[j - 1][i - 1];\n          if (i == length) {\n            this.cardView.set(id, num);\n          } else {\n            this.cardView.set(id, num, 1);\n          }\n        }\n      }\n    } else {\n      this.fieldView.cardFieldSet(id);\n      if (this.playerModel.card[0].length == 0) {\n        id = this.fieldId + '_pField1_c1';\n        this.cardView.set(id, 20);\n      } else {\n        for (i = 1; i <= this.playerModel.card[0].length; i++) {\n          id = this.fieldId + '_pField1_c' + i;\n          this.cardView.set(id, this.playerModel.card[0][i - 1]);\n        }\n      }\n    }\n  }\n};\n\n//\t�u���b�N�W���b�N�����F�J�[�h�z�z\nBlackJack.prototype.cardAdd = function (target, option) {\n  // target�i0:�f�B�[���A1:�v���C���j\n  // option �f�B�[���̏ꍇ�i1:holecard�j\n  // option �v���C���̏ꍇ�i�����`:�ʏ��A1:split(1)�A2:split(2)�j\n\n  var num, id, tmp;\n  if (target == 1 && !option) {\n    num = this.playerModel.card[0].length;\n    if (num == 5) {\n      return false;\n    }\n    this.playerModel.card[0][num] = this.dealerModel.oneCards[0];\n    this.dealerModel.oneCards = this.dealerModel.oneCards.slice(1);\n    tmp = num + 1;\n    id = this.fieldId + '_pField1_c' + tmp;\n    this.cardView.clear(id);\n    this.cardView.set(id, this.playerModel.card[0][num]);\n  } else if (target == 1) {\n    var sp = 0,\n      sp2 = 1;\n    if (option == 2) {\n      sp = 1, sp2 = 2;\n    }\n    num = this.playerModel.card[sp].length;\n    if (num == 5) {\n      return false;\n    }\n    this.playerModel.card[sp][num] = this.dealerModel.oneCards[0];\n    this.dealerModel.oneCards = this.dealerModel.oneCards.slice(1);\n    id = this.fieldId + '_pField' + sp2 + '_c';\n    tmp = num;\n    if (num > 0) {\n      this.cardView.clear(id + tmp);\n      this.cardView.set(id + tmp, this.playerModel.card[sp][num - 1], 1);\n    }\n    tmp++;\n    this.cardView.clear(id + tmp);\n    this.cardView.set(id + tmp, this.playerModel.card[sp][num]);\n  } else if (target == 0) {\n    num = this.dealerModel.card.length;\n    if (num == 5) {\n      return false;\n    }\n    this.dealerModel.card[num] = this.dealerModel.oneCards[0];\n    this.dealerModel.oneCards = this.dealerModel.oneCards.slice(1);\n    tmp = num + 1;\n    id = this.fieldId + '_dField_c' + tmp;\n    if (option) {\n      this.cardView.clear(id);\n      this.cardView.set(id, 0);\n    } else {\n      this.cardView.clear(id);\n      this.cardView.set(id, this.dealerModel.card[num]);\n    }\n  }\n};\n\n//\t�u���b�N�W���b�N�����F�z�[���J�[�h���J��\nBlackJack.prototype.holecard = function () {\n  if (this.dealerModel.holecard) {\n    var id = this.fieldId + '_dField_c2';\n    this.cardView.clear(id);\n    this.cardView.set(id, this.dealerModel.card[1]);\n    this.dealerModel.holecard = false;\n  }\n};\n\n//\t�u���b�N�W���b�N�����F���s����\nBlackJack.prototype.judgment = function (sp) {\n  var result = 2;\n  var spt = 0;\n  if (sp) {\n    spt = 2;\n  }\n  var pTotal = this.playerModel.cardTotal(spt);\n  var dTotal = this.dealerModel.cardTotal();\n\n  // �o�[�X�g�������H\n  if (pTotal > 21) {\n    result = 0;\n  } else if (dTotal > 21) {\n    result = 1;\n  }\n  // �u���b�N�W���b�N���H\n  else if (this.playerModel.bj && !this.dealerModel.bj) {\n    result = 1;\n  } else if (this.dealerModel.bj && !this.playerModel.bj) {\n    result = 0;\n  }\n  // ���v�l���r\n  else if (pTotal > dTotal) {\n    result = 1;\n  } else if (dTotal > pTotal) {\n    result = 0;\n  }\n  // ���_���̖������r\n  else if (this.playerModel.card[sp].length > this.dealerModel.card.length) {\n    result = 1;\n  } else if (this.dealerModel.card.length > this.playerModel.card[sp].length) {\n    result = 0;\n  }\n\n  // ����point\n  if (result == 1) {\n    var pt = this.playerModel.bet;\n    if (this.playerModel.bj) {\n      pt *= 2.5;\n    } else if (this.playerModel.doubleDown[sp]) {\n      pt = pt * 4;\n    } else {\n      pt *= 2;\n    }\n    this.playerModel.getPoint += pt;\n  } else if (result == 2) {\n    this.playerModel.getPoint += this.playerModel.bet;\n  }\n  return result;\n};\n\n//\t�u���b�N�W���b�N�����F�f�o�O�����\\��\nBlackJack.prototype.debugView = function (mode) {\n  if (!this.debug) {\n    return false;\n  }\n  var id = this.fieldId + '_debug';\n  var node;\n  if (!(node = document.getElementById(id))) {\n    return false;\n  }\n  if (mode == 'set') {\n    node.appendChild(document.createTextNode('debug'));\n  } else if (this.dealerModel.oneCards.length > 0) {\n    var str = 'debug: ',\n      num,\n      cardNum;\n    if (this.dealerModel.card.length == 2) {\n      num = cardStr(this.dealerModel.card[1]);\n      str += '(' + num + ') ';\n    }\n    var i;\n    str += '(' + cardStr(this.dealerModel.oneCards[0]);\n    for (i = 1; i < this.dealerModel.oneCards.length; i++) {\n      str += ',' + cardStr(this.dealerModel.oneCards[i]);\n    }\n    str += ')';\n    node.firstChild.nodeValue = str;\n  }\n};\n\n//\t�t�B�[���h�r���[�N���X\nfunction FieldView(fieldId, size, color, outFrameColor, bgColor, frameColor) {\n  this.fieldId = fieldId;\n  this.size = size + 2;\n  this.lineHeight = this.size + Math.ceil(this.size / 2);\n  this.color = color;\n  this.outFrameColor = outFrameColor;\n  this.bgColor = bgColor;\n  this.frameColor = frameColor;\n  this.widthHalf = this.size + 2;\n  this.widthHalf = this.widthHalf * 5 + this.widthHalf;\n  this.width = this.widthHalf * 2;\n  this.ie = false;\n  var agt = navigator.appName;\n  if (agt.match(/Internet Explorer/)) {\n    this.ie = true;\n  }\n  this.init();\n}\n\n//\t�t�B�[���h�r���[�F������\n_c2 = FieldView;\nFieldView.prototype.init = function () {\n  this.clear(this.fieldId);\n  this.fieldSet();\n  this.cardFieldSet(this.fieldId + '_dCardField', 0, 1);\n};\n\n//\t�t�B�[���h�r���[�F�t�B�[���h�̃Z�b�g\nFieldView.prototype.fieldSet = function () {\n  id = this.fieldId;\n  var node;\n  if (!(node = document.getElementById(id))) {\n    return false;\n  }\n  var nTable, nCaption, nTbody, nTr, nTd, nP, nDiv, nSpan;\n  var nTable2, nTbody2, nTr2, nTd2, nTable3, nTbody3, nTr3, nTd3;\n  nTable = document.createElement('table');\n  nTable.style.background = this.bgColor;\n  nTable.style.border = '1pt solid ' + this.outFrameColor;\n  nTable.style.borderCollapse = 'collapse';\n  nTbody = document.createElement('tbody');\n  nTr = document.createElement('tr');\n  // �^�C�g������\n  nTd = document.createElement('td');\n  nTd.style.fontSize = this.size + 'pt';\n  nTd.style.fontWeight = 'bold';\n  nTd.style.fontFamily = 'sans-serif';\n  nTd.style.color = this.color;\n  nTd.style.textDecoration = 'underline';\n  nTd.style.padding = '2pt';\n  nTd.appendChild(document.createTextNode('BlackJack'));\n  nTr.appendChild(nTd);\n  // �R�}���h����\n  nTd = document.createElement('td');\n  nTd.rowSpan = 4;\n  nTd.vAlign = 'bottom';\n  nTd.style.fontSize = this.size + 'pt';\n  nTd.style.color = this.color;\n  nTd.style.width = this.widthHalf + 'pt';\n  nP = document.createElement('p');\n  nP.id = id + '_command';\n  nP.style.marginBottom = '0pt';\n  nP.align = 'center';\n  nTd.appendChild(nP);\n  nDiv = document.createElement('div');\n  nDiv.style.border = '1pt solid ' + this.frameColor;\n  nDiv.style.margin = '2pt';\n  nDiv.style.marginTop = Math.floor(this.size / 2.2) + 'pt';\n  nDiv.style.textAlign = 'right';\n  nSpan = document.createElement('span');\n  nSpan.id = this.fieldId + '_point';\n  nSpan.appendChild(document.createTextNode('0'));\n  nDiv.appendChild(nSpan);\n  nSpan = document.createElement('span');\n  nSpan.style.fontWeight = 'bold';\n  nSpan.appendChild(document.createTextNode(' pt.'));\n  nDiv.appendChild(nSpan);\n  nTd.appendChild(nDiv);\n  nTr.appendChild(nTd);\n  nTbody.appendChild(nTr);\n  // �f�B�[�����t�B�[���h\n  nTr = document.createElement('tr');\n  nTd = document.createElement('td');\n  nTd.id = id + '_dCardField';\n  nTr.appendChild(nTd);\n  nTbody.appendChild(nTr);\n  // ���b�Z�[�W�t�B�[���h\n  nTr = document.createElement('tr');\n  nTd = document.createElement('td');\n  nDiv = document.createElement('div');\n  nDiv.id = id + '_mField';\n  nDiv.style.margin = '0pt 5pt';\n  nDiv.style.border = '1pt solid ' + this.frameColor;\n  nDiv.style.fontSize = this.size + 'pt';\n  nDiv.style.lineHeight = this.lineHeight + 'pt';\n  nDiv.style.fontWeight = 'bold';\n  nDiv.style.color = this.color;\n  nDiv.style.textAlign = 'center';\n  nDiv.appendChild(document.createTextNode('Click Start.'));\n  nTd.appendChild(nDiv);\n  nTr.appendChild(nTd);\n  nTbody.appendChild(nTr);\n  // �v���C�����t�B�[���h\n  nTr = document.createElement('tr');\n  nTd = document.createElement('td');\n  nTd.id = id + '_pCardField';\n  nTr.appendChild(nTd);\n  nTbody.appendChild(nTr);\n  // �f�o�O�����t�B�[���h\n  nTr = document.createElement('tr');\n  nTd = document.createElement('td');\n  nTd.colSpan = 2;\n  nTd.style.fontSize = this.size + 'pt';\n  nTd.style.color = this.color;\n  nTd.id = id + '_debug';\n  nTr.appendChild(nTd);\n  nTbody.appendChild(nTr);\n  nTable.appendChild(nTbody);\n  node.appendChild(nTable);\n};\n\n//\t�t�B�[���h�r���[�F�J�[�h�t�B�[���h�̃Z�b�g\nFieldView.prototype.cardFieldSet = function (id, split, dealer) {\n  var i, j;\n  var node;\n  if (!(node = document.getElementById(id))) {\n    return false;\n  }\n  var nTable, nCaption, nTbody, nTr, nTd;\n  var nTable2, nTbody2, nTr2, nTd2, nTable3, nTbody3, nTr3, nTd3;\n  if (split) {\n    nTable = document.createElement('table');\n    nTable.style.border = 'none';\n    nTable.style.borderCollapse = 'collapse';\n    nCaption = document.createElement('caption');\n    nCaption.align = 'bottom';\n    nCaption.style.marginBottom = '2pt';\n    nCaption.style.fontSize = this.size + 'pt';\n    nCaption.style.color = this.color;\n    nCaption.appendChild(document.createTextNode('Player'));\n    nTable.appendChild(nCaption);\n    nTbody = document.createElement('tbody');\n    nTr = document.createElement('tr');\n    for (j = 1; j <= 2; j++) {\n      nTd = document.createElement('td');\n      nTd.style.padding = '0pt';\n      nTable2 = document.createElement('table');\n      nTable2.id = this.fieldId + '_pField' + j;\n      nTable2.style.border = '1pt dotted ' + this.bgColor;\n      nTable2.style.borderCollapse = 'collapse';\n      nTable2.style.width = this.widthHalf + 'pt';\n      nTbody2 = document.createElement('tbody');\n      nTr2 = document.createElement('tr');\n      nTd2 = document.createElement('td');\n      nTd2.style.padding = '0pt';\n      nTable3 = document.createElement('table');\n      nTable3.style.margin = '1pt';\n      nTable3.style.border = 'none';\n      nTable3.style.borderCollapse = 'collapse';\n      nTbody3 = document.createElement('tbody');\n      nTr3 = document.createElement('tr');\n      nTd3 = document.createElement('td');\n      for (i = 1; i <= 5; i++) {\n        nTd3 = document.createElement('td');\n        nTd3.id = this.fieldId + '_pField' + j + '_c' + i;\n        nTd3.style.padding = '1pt 0pt';\n        nTr3.appendChild(nTd3);\n      }\n      nTbody3.appendChild(nTr3);\n      nTable3.appendChild(nTbody3);\n      nTd2.appendChild(nTable3);\n      nTr2.appendChild(nTd2);\n      nTbody2.appendChild(nTr2);\n      nTable2.appendChild(nTbody2);\n      nTd.appendChild(nTable2);\n      nTr.appendChild(nTd);\n    }\n    nTbody.appendChild(nTr);\n    nTable.appendChild(nTbody);\n    node.appendChild(nTable);\n  } else {\n    nTable = document.createElement('table');\n    if (dealer) {\n      nTable.id = this.fieldId + '_dField';\n    } else {\n      nTable.id = this.fieldId + '_pField1';\n    }\n    nTable.style.border = '1pt dotted ' + this.bgColor;\n    nTable.style.borderCollapse = 'collapse';\n    nTable.style.width = this.width + 'pt';\n    nCaption = document.createElement('caption');\n    nCaption.style.color = this.color;\n    if (dealer) {\n      nCaption.appendChild(document.createTextNode('Dealer'));\n    } else {\n      nCaption.align = 'bottom';\n      nCaption.style.marginBottom = '2pt';\n      nCaption.appendChild(document.createTextNode('Player'));\n    }\n    nCaption.style.fontSize = this.size + 'pt';\n    nTable.appendChild(nCaption);\n    nTbody = document.createElement('tbody');\n    nTr = document.createElement('tr');\n    nTd = document.createElement('td');\n    nTd.style.padding = '1pt 0pt';\n    nTable2 = document.createElement('table');\n    nTable2.style.margin = '1pt';\n    nTable2.style.marginLeft = this.size + 'pt';\n    nTable2.style.border = 'none';\n    nTable2.style.borderCollapse = 'collapse';\n    nTbody2 = document.createElement('tbody');\n    nTr2 = document.createElement('tr');\n    for (i = 1; i <= 5; i++) {\n      nTd2 = document.createElement('td');\n      if (dealer) {\n        nTd2.id = this.fieldId + '_dField_c' + i;\n      } else {\n        nTd2.id = this.fieldId + '_pField1_c' + i;\n      }\n      nTd2.style.padding = '0pt 2pt';\n      nTr2.appendChild(nTd2);\n    }\n    nTbody2.appendChild(nTr2);\n    nTable2.appendChild(nTbody2);\n    nTd.appendChild(nTable2);\n    nTr.appendChild(nTd);\n    nTbody.appendChild(nTr);\n    nTable.appendChild(nTbody);\n    node.appendChild(nTable);\n  }\n};\n\n//\t�t�B�[���h�r���[�F�_���̕\\��\nFieldView.prototype.pointView = function (pt, bet) {\n  var id;\n  if (bet) {\n    id = this.fieldId + '_betPoint';\n  } else {\n    id = this.fieldId + '_point';\n  }\n  var node, num;\n  if (!(node = document.getElementById(id))) {\n    return false;\n  }\n  if (pt >= 0) {\n    num = pt;\n    if (num > 999999999) {\n      num = 999999999;\n    }\n  } else {\n    num = 0;\n  }\n  node.firstChild.nodeValue = num + '';\n};\n\n//\t�t�B�[���h�r���[�F���b�Z�[�W�̕\\��\nFieldView.prototype.messageView = function (str) {\n  var id = this.fieldId + '_mField';\n  var node;\n  if (!(node = document.getElementById(id))) {\n    return false;\n  }\n  node.firstChild.nodeValue = str + '';\n};\n\n//\t�t�B�[���h�r���[�F�R�}���h�{�^���̃Z�b�g\nFieldView.prototype.commandSet = function (command, option) {\n  // command�i�����`:�N���A�j\n  // option�i1:�N���A���Ȃ��j\n\n  var id = this.fieldId + '_command';\n  var node;\n  if (!(node = document.getElementById(id))) {\n    return false;\n  }\n  if (!option) {\n    this.clear(id);\n  }\n  var i, j, elm;\n  if (command == 'start') {\n    // �X�^�[�g�{�^��\n    elm = this.createComElement('div');\n    elm.id = this.fieldId + '_start';\n    elm.appendChild(document.createTextNode('Start'));\n    node.appendChild(elm);\n  } else if (command == 'bet') {\n    // bet�\\��\n    var nTable, nTbody, nTr, nTd;\n    nTable = document.createElement('table');\n    nTable.style.border = 'none';\n    nTable.style.borderCollapse = 'collapse';\n    nTable.style.width = '90%';\n    nTbody = document.createElement('tbody');\n    nTr = document.createElement('tr');\n    nTd = document.createElement('td');\n    nTd.style.fontSize = this.size + 'pt';\n    nTd.style.fontWeight = 'bold';\n    nTd.style.color = this.color;\n    nTd.appendChild(document.createTextNode('bet:'));\n    nTr.appendChild(nTd);\n    nTd = document.createElement('td');\n    nTd.style.fontSize = this.size + 'pt';\n    nTd.style.color = this.color;\n    nTd.style.textAlign = 'right';\n    elm = document.createElement('span');\n    elm.id = this.fieldId + '_betPoint';\n    elm.appendChild(document.createTextNode('10'));\n    nTd.appendChild(elm);\n    elm = document.createElement('span');\n    elm.style.fontWeight = 'bold';\n    elm.appendChild(document.createTextNode(' pt.'));\n    nTd.appendChild(elm);\n    nTr.appendChild(nTd);\n    nTbody.appendChild(nTr);\n    nTable.appendChild(nTbody);\n    node.appendChild(nTable);\n    // bet�{�^��\n    nTable = document.createElement('table');\n    nTable.cellSpacing = 2;\n    nTable.style.border = 'none';\n    nTbody = document.createElement('tbody');\n    var str,\n      sign,\n      num,\n      id = this.fieldId + '_bet-',\n      id2;\n    for (j = 0; j < 2; j++) {\n      if (j == 0) {\n        sign = '+', id2 = id + 'p-';\n      } else {\n        sign = '-', id2 = id + 'm-';\n      }\n      num = 10000;\n      nTr = document.createElement('tr');\n      for (i = 0; i < 3; i++) {\n        nTd = document.createElement('td');\n        nTd.style.padding = '0pt';\n        elm = this.createComElement('div2');\n        num /= 10;\n        elm.id = id2 + num;\n        str = sign + num + '';\n        elm.appendChild(document.createTextNode(str));\n        nTd.appendChild(elm);\n        nTr.appendChild(nTd);\n      }\n      nTbody.appendChild(nTr);\n    }\n    nTable.appendChild(nTbody);\n    node.appendChild(nTable);\n    // Deal�{�^��\n    elm = this.createComElement('div');\n    elm.id = this.fieldId + '_deal';\n    elm.title = '�q�����I���i�����j���A�J�[�h���z���܂��B';\n    elm.appendChild(document.createTextNode('Deal'));\n    node.appendChild(elm);\n  } else if (command == 'hit') {\n    elm = this.createComElement('div');\n    elm.id = this.fieldId + '_hit';\n    elm.title = '�J�[�h���ꖇ�����܂��B';\n    elm.appendChild(document.createTextNode('Hit'));\n    node.appendChild(elm);\n  } else if (command == 'stand') {\n    elm = this.createComElement('div');\n    elm.id = this.fieldId + '_stand';\n    elm.title = '�J�[�h�������̂����߁A���݂̎��ŏ������܂��B';\n    elm.appendChild(document.createTextNode('Stand'));\n    node.appendChild(elm);\n  } else if (command == 'doubleDown') {\n    elm = this.createComElement('div');\n    elm.id = this.fieldId + '_doubleDown';\n    elm.title = '���ƈꖇ���������J�[�h�������Ȃ��������ɁAbet�ɓ��z�����悹���܂��B';\n    elm.appendChild(document.createTextNode('DoubleDown'));\n    node.appendChild(elm);\n  } else if (command == 'surrender') {\n    elm = this.createComElement('div');\n    elm.id = this.fieldId + '_surrender';\n    elm.title = '�������錾���Abet�̔��z�������߂��܂��B';\n    elm.appendChild(document.createTextNode('Surrender'));\n    node.appendChild(elm);\n  } else if (command == 'split') {\n    elm = this.createComElement('div');\n    elm.id = this.fieldId + '_split';\n    elm.title = '���D�𕪊����A�ʁX�̎��������ď������܂��Bbet�Ɠ��z���K�v�ł��B';\n    elm.appendChild(document.createTextNode('Split'));\n    node.appendChild(elm);\n  } else if (command == 'evenMoney') {\n    elm = this.createComElement('div');\n    elm.id = this.fieldId + '_evenMoney';\n    elm.title = 'BJ�̔z�������߁A�ʏ��̔z�����󂯎����܂��B';\n    elm.appendChild(document.createTextNode('EvenMoney'));\n    node.appendChild(elm);\n  } else if (command == 'insurance') {\n    elm = this.createComElement('div');\n    elm.id = this.fieldId + '_insurance';\n    elm.title = '�uDealer�̎肪BJ�ł����v���ƂɁAbet�̔��z���q���܂��B';\n    elm.appendChild(document.createTextNode('Insurance'));\n    node.appendChild(elm);\n  } else if (command == 'restart') {\n    elm = this.createComElement('div');\n    elm.id = this.fieldId + '_restart';\n    elm.appendChild(document.createTextNode('Restart'));\n    node.appendChild(elm);\n  } else if (command == 'next') {\n    elm = this.createComElement('div');\n    elm.id = this.fieldId + '_start';\n    elm.appendChild(document.createTextNode('NextGame'));\n    node.appendChild(elm);\n  } else if (command == 'none') {\n    elm = this.createComElement('divNone');\n    elm.appendChild(document.createElement('br'));\n    node.appendChild(elm);\n  }\n};\n\n//\t�t�B�[���h�r���[�F�R�}���h�p�v�f�̐���\nFieldView.prototype.createComElement = function (element) {\n  var elm;\n  if (element == 'div') {\n    var halfSize = Math.floor(this.size / 4);\n    elm = document.createElement('div');\n    elm.onclick = bjClick;\n    elm.style.marginTop = halfSize + 'pt';\n    elm.style.border = '2pt double ' + this.frameColor;\n    if (this.ie) {\n      elm.style.cursor = 'hand';\n    } else {\n      elm.style.cursor = 'pointer';\n    }\n    elm.style.fontSize = this.size + 'pt';\n    elm.style.color = this.color;\n    elm.style.textAlign = 'center';\n    elm.style.width = '80%';\n  } else if (element == 'div2') {\n    var miniFont = Math.ceil(this.size / 1.5);\n    elm = document.createElement('div');\n    elm.onclick = bjClick;\n    elm.style.margin = '0pt';\n    elm.style.border = '2pt double ' + this.frameColor;\n    elm.style.padding = '1pt';\n    if (this.ie) {\n      elm.style.cursor = 'hand';\n    } else {\n      elm.style.cursor = 'pointer';\n    }\n    elm.style.fontSize = miniFont + 'pt';\n    elm.style.color = this.color;\n    elm.style.textAlign = 'center';\n  } else if (element == 'divNone') {\n    elm = document.createElement('div');\n    elm.style.margin = '0pt';\n    elm.style.border = '2pt double ' + this.bgColor;\n    elm.style.padding = '1pt';\n    elm.style.fontSize = this.size + 'pt';\n  }\n  return elm;\n};\n\n//\t�t�B�[���h�r���[�F�g���F�̃Z�b�g\nFieldView.prototype.frameSet = function (target) {\n  // target�i0:�f�B�[���A1:�v���C��1�A2:�v���C��2�A���̑�:�S�N���A�j\n  var node, id;\n  id = this.fieldId + '_dField';\n  if (node = document.getElementById(id)) {\n    if (target == 0) {\n      node.style.borderColor = this.frameColor;\n    } else {\n      node.style.borderColor = this.bgColor;\n    }\n  }\n  id = this.fieldId + '_pField1';\n  if (node = document.getElementById(id)) {\n    if (target == 1) {\n      node.style.borderColor = this.frameColor;\n    } else {\n      node.style.borderColor = this.bgColor;\n    }\n  }\n  id = this.fieldId + '_pField2';\n  if (node = document.getElementById(id)) {\n    if (target == 2) {\n      node.style.borderColor = this.frameColor;\n    } else {\n      node.style.borderColor = this.bgColor;\n    }\n  }\n};\n\n//\t�t�B�[���h�r���[�F�t�B�[���h�̃N���A\nFieldView.prototype.clear = function (id) {\n  var node;\n  if (node = document.getElementById(id)) {\n    while (true) {\n      if (node.childNodes[0] != null) {\n        node.removeChild(node.childNodes[0]);\n      } else {\n        break;\n      }\n    }\n  }\n};\n\n//\t�J�[�h�r���[�N���X\nfunction CardView(size, color, frameColor, cardColor, cardBackColor, bgColor) {\n  this.size = size;\n  this.sizeMax = size + 2;\n  this.sizeMin = size - 4;\n  this.color = color;\n  this.frameColor = frameColor;\n  this.cardColor = cardColor;\n  this.cardBackColor = cardBackColor;\n  this.bgColor = bgColor;\n  this.width = this.sizeMax * 2;\n  this.height = this.sizeMax * 3;\n}\n\n//\t�J�[�h�r���[�F�J�[�h�̕\\��\n_c3 = CardView;\nCardView.prototype.set = function (id, num, half) {\n  var node, tmp;\n  if (!(node = document.getElementById(id))) {\n    return false;\n  }\n  var nTable, nTbody, nTr, nTd, nText, nTable2, nTbody2, nTr2, nTd2;\n  nTable = document.createElement('table');\n  nTable.style.tableLayout = 'fixed';\n  nTable.style.background = this.cardColor;\n  nTable.style.border = '1pt solid ' + this.frameColor;\n  nTable.style.borderCollapse = 'collapse';\n  nTable.style.width = this.width + 'pt';\n  nTable.style.height = this.height + 'pt';\n  if (half) {\n    nTable.style.borderRight = 'none';\n    nTable.style.width = this.sizeMax + 'pt';\n  }\n  nTbody = document.createElement('tbody');\n  if (num >= 1 && num <= 13) {\n    // �J�[�h�̕\\\n    nTr = document.createElement('tr');\n    nTd = document.createElement('td');\n    nTd.style.padding = '1pt';\n    if (num == 10) {\n      nTd.style.paddingLeft = '0pt';\n    } else {\n      nTd.style.paddingLeft = '2pt';\n    }\n    nTd.style.fontSize = this.size + 'pt';\n    nTd.style.fontFamily = 'sans-serif';\n    nTd.style.color = this.color;\n    nTd.style.lineHeight = this.sizeMax + 'pt';\n    nText = document.createTextNode(cardStr(num));\n    nTd.appendChild(nText);\n    nTr.appendChild(nTd);\n    nTbody.appendChild(nTr);\n    nTr = document.createElement('tr');\n    nTd = document.createElement('td');\n    nTd.style.padding = '1pt';\n    nTd.style.lineHeight = this.sizeMin + 'pt';\n    nTd.appendChild(document.createElement('br'));\n    nTr.appendChild(nTd);\n    nTbody.appendChild(nTr);\n    nTr = document.createElement('tr');\n    nTd = document.createElement('td');\n    nTd.style.padding = '1pt';\n    nTd.style.fontSize = this.size + 'pt';\n    nTd.style.fontFamily = 'sans-serif';\n    nTd.style.color = this.color;\n    nTd.style.lineHeight = this.size + 'pt';\n    if (half) {\n      nTd.appendChild(document.createElement('br'));\n    } else {\n      nTd.style.textAlign = 'right';\n      nText = document.createTextNode(cardStr(num));\n      nTd.appendChild(nText);\n    }\n    nTr.appendChild(nTd);\n    nTbody.appendChild(nTr);\n  } else if (num <= 0) {\n    // �J�[�h�̗�\n    nTr = document.createElement('tr');\n    nTd = document.createElement('td');\n    nTd.style.padding = '1pt';\n    nTable2 = document.createElement('table');\n    nTable2.style.background = this.cardBackColor;\n    nTable2.style.border = 'none';\n    nTable2.style.borderCollapse = 'collapse';\n    nTable2.style.width = '100%';\n    nTable2.style.height = '100%';\n    nTbody2 = document.createElement('tbody');\n    nTr2 = document.createElement('tr');\n    nTd2 = document.createElement('td');\n    nTd2.style.padding = '0pt';\n    var lineHeight = this.size * 3 + 1;\n    nTd2.style.lineHeight = lineHeight + 'pt';\n    nTd2.appendChild(document.createElement('br'));\n    nTr2.appendChild(nTd2);\n    nTbody2.appendChild(nTr2);\n    nTable2.appendChild(nTbody2);\n    nTd.appendChild(nTable2);\n    nTr.appendChild(nTd);\n    nTbody.appendChild(nTr);\n  } else {\n    nTable.style.background = this.bgColor;\n    nTable.style.borderColor = this.bgColor;\n    nTr = document.createElement('tr');\n    nTd = document.createElement('td');\n    nTd.style.padding = '1pt';\n    nTd.style.fontSize = this.size + 'pt';\n    nTd.style.fontFamily = 'sans-serif';\n    nTd.style.lineHeight = this.sizeMax + 'pt';\n    nTd.appendChild(document.createElement('br'));\n    nTr.appendChild(nTd);\n    nTbody.appendChild(nTr);\n    nTr = document.createElement('tr');\n    nTd = document.createElement('td');\n    nTd.style.padding = '1pt';\n    nTd.style.lineHeight = this.sizeMin + 'pt';\n    nTd.appendChild(document.createElement('br'));\n    nTr.appendChild(nTd);\n    nTbody.appendChild(nTr);\n    nTr = document.createElement('tr');\n    nTd = document.createElement('td');\n    nTd.style.padding = '1pt';\n    nTd.style.fontSize = this.size + 'pt';\n    nTd.style.fontFamily = 'sans-serif';\n    nTd.style.lineHeight = this.size + 'pt';\n    nTd.appendChild(document.createElement('br'));\n    nTr.appendChild(nTd);\n    nTbody.appendChild(nTr);\n  }\n  nTable.appendChild(nTbody);\n  node.appendChild(nTable);\n};\n\n//\t�J�[�h�r���[�F�J�[�h�̃N���A\nCardView.prototype.clear = function (id) {\n  var node;\n  if (node = document.getElementById(id)) {\n    while (true) {\n      if (node.childNodes[0] != null) {\n        node.removeChild(node.childNodes[0]);\n      } else {\n        break;\n      }\n    }\n  }\n};\n\n//\t�f�B�[�����f���N���X\nfunction DealerModel() {\n  this.init();\n}\n\n//\t�f�B�[�����f���F������\n_c4 = DealerModel;\nDealerModel.prototype.init = function () {\n  this.card = new Array();\n  this.holecard = true;\n  this.bj = false;\n  this.oneCards = new Array();\n  var i,\n    card,\n    cardLimit = new Array();\n  for (i = 0; i < 13; i++) {\n    cardLimit[i] = 0;\n  }\n  for (i = 0; i < 20; i++) {\n    while (true) {\n      card = dice(1, 13);\n      if (cardLimit[card - 1] < 4) {\n        cardLimit[card - 1]++;\n        this.oneCards[i] = card;\n        break;\n      }\n    }\n  }\n};\n\n//\t�f�B�[�����f���FBJ�`�F�b�N\nDealerModel.prototype.bjCheck = function () {\n  this.bj = false;\n  if (this.card.length != 2) {\n    return false;\n  }\n  if (this.card[0] == 1) {\n    if (this.card[1] >= 10 && this.card[1] <= 13) {\n      this.bj = true;\n    }\n  } else if (this.card[0] >= 10 && this.card[0] <= 13) {\n    if (this.card[1] == 1) {\n      this.bj = true;\n    }\n  }\n};\n\n//\t�f�B�[�����f���F���v�l\nDealerModel.prototype.cardTotal = function () {\n  var i,\n    num = 0,\n    ace = 0;\n  for (i = 0; i < this.card.length; i++) {\n    if (this.card[i] == 1) {\n      ace = 1;\n    }\n    if (this.card[i] >= 10) {\n      num += 10;\n    } else if (this.card[i] < 0) {\n      num += 0;\n    } else {\n      num += this.card[i];\n    }\n  }\n  if (ace && num <= 11) {\n    num += 10;\n  }\n  if (this.card.length == 5 && num <= 21) {\n    num = 21;\n  }\n  return num;\n};\n\n//\t�v���C�����f���N���X\nfunction PlayerModel(point) {\n  this.firstPoint = point;\n  this.pointLevel = new Array();\n  this.pointOver = 0;\n  this.doubleDown = new Array();\n  var i,\n    min,\n    tmp = 10;\n  min = point;\n  while (true) {\n    tmp *= 10;\n    if (min <= tmp) {\n      min = tmp;\n      break;\n    }\n  }\n  i = -1;\n  while (true) {\n    i++;\n    min *= 10;\n    this.pointLevel[i] = min;\n    if (min >= 100000000) {\n      break;\n    }\n  }\n  this.fullInit();\n}\n\n//\t�v���C�����f���F���S������\n_c5 = PlayerModel;\nPlayerModel.prototype.fullInit = function () {\n  this.point = this.firstPoint;\n  this.bet = 10;\n  this.init();\n};\n\n//\t�v���C�����f���F������\nPlayerModel.prototype.init = function () {\n  this.card = new Array();\n  this.card[0] = new Array();\n  this.card[1] = new Array();\n  this.bj = false;\n  this.insurance = false;\n  this.doubleDown[0] = false;\n  this.doubleDown[1] = false;\n  this.split = 0;\n  this.getPoint = 0;\n};\n\n//\t�v���C�����f���FBJ�`�F�b�N\nPlayerModel.prototype.bjCheck = function () {\n  this.bj = false;\n  if (this.card[0].length != 2) {\n    return false;\n  }\n  if (this.card[0][0] == 1) {\n    if (this.card[0][1] >= 10 && this.card[0][1] <= 13) {\n      this.bj = true;\n    }\n  } else if (this.card[0][0] >= 10 && this.card[0][0] <= 13) {\n    if (this.card[0][1] == 1) {\n      this.bj = true;\n    }\n  }\n};\n\n//\t�v���C�����f���F���v�l\nPlayerModel.prototype.cardTotal = function (split) {\n  var i,\n    num = 0,\n    ace = 0;\n  if (split == 2) {\n    split = 1;\n  } else {\n    split = 0;\n  }\n  for (i = 0; i < this.card[split].length; i++) {\n    if (this.card[split][i] == 1) {\n      ace = 1;\n    }\n    if (this.card[split][i] >= 10) {\n      num += 10;\n    } else if (this.card[split][i] < 0) {\n      num += 0;\n    } else {\n      num += this.card[split][i];\n    }\n  }\n  if (ace && num <= 11) {\n    num += 10;\n  }\n  if (this.card[split].length == 5 && num <= 21) {\n    num = 21;\n  }\n  return num;\n};\n\n//\t�N���b�N\nfunction bjClick(id) {\n  id = id + '';\n  if (!id.match('_')) {\n    id = this.id;\n  }\n  var tmp = id.split('_');\n  var fieldId = tmp[0];\n  var command = tmp[1];\n  var func, str;\n  var bj = blackJack[fieldId];\n  if (!bj.clickOk) {\n    return false;\n  } else {\n    bj.clickOk = false;\n  }\n  if (command == 'start') {\n    bj.mode = 'bet', bj.enter();\n    bj.clickOk = true;\n  } else if (command.match('bet-')) {\n    tmp = command.replace('bet-', '');\n    tmp = tmp.split('-');\n    var sign = tmp[0],\n      num = tmp[1] - 0;\n    if (sign == 'p') {\n      if (num > bj.playerModel.point) {\n        num = bj.playerModel.point;\n        num -= num % 10;\n      }\n      if (bj.playerModel.bet + num > 9990) {\n        num = 9990 - bj.playerModel.bet;\n      }\n      bj.playerModel.bet += num;\n      bj.playerModel.point -= num;\n    } else if (sign == 'm') {\n      if (bj.playerModel.bet - num < 10) {\n        num = bj.playerModel.bet - 10;\n      }\n      bj.playerModel.bet -= num;\n      bj.playerModel.point += num;\n    }\n    bj.fieldView.pointView(bj.playerModel.bet, 1);\n    bj.fieldView.pointView(bj.playerModel.point);\n    bj.clickOk = true;\n  } else if (command == 'deal') {\n    bj.fieldView.messageView('Dealer is dealing ...');\n    bj.fieldView.commandSet();\n    bj.count = 0;\n    func = \"bjAction('\" + fieldId + \"', 'firstDeal')\";\n    bj.actionId = setTimeout(func, bj.speed);\n  } else if (command == 'restart') {\n    bj.playerModel.fullInit();\n    bj.mode = 'bet', bj.enter();\n    bj.clickOk = true;\n  } else if (command == 'hit') {\n    bj.cardAdd(1, bj.playerModel.split);\n    var sp = 0;\n    if (bj.playerModel.split == 2) {\n      sp = 1;\n    }\n    if (bj.playerModel.cardTotal(bj.playerModel.split) > 21) {\n      bj.fieldView.messageView('Busted !');\n      bj.fieldView.commandSet();\n      bj.debugView();\n      if (bj.playerModel.split == 1) {\n        func = \"bjAction('\" + fieldId + \"', 'splitNext')\";\n        bj.actionId = setTimeout(func, bj.waitTime);\n      } else if (bj.playerModel.split == 2) {\n        bj.clickOk = true;\n        func = \"bjClick('\" + fieldId + \"_stand')\";\n        bj.actionId = setTimeout(func, bj.waitTime);\n      } else {\n        func = \"bjAction('\" + fieldId + \"', 'judgment')\";\n        bj.actionId = setTimeout(func, bj.waitTime);\n      }\n    } else if (bj.playerModel.card[sp].length == 5) {\n      if (bj.playerModel.split == 1) {\n        bj.playerModel.split++;\n        bj.fieldView.messageView('Split.');\n        bj.fieldView.frameSet(2);\n        bj.mode = 'hitOrStand', bj.enter();\n        bj.clickOk = true;\n      } else {\n        bj.clickOk = true;\n        bjClick(fieldId + '_stand');\n      }\n    } else {\n      bj.mode = 'hitOrStand', bj.enter();\n      bj.clickOk = true;\n    }\n  } else if (command == 'stand') {\n    if (bj.playerModel.split == 2) {\n      var ct1 = bj.playerModel.cardTotal(0);\n      var ct2 = bj.playerModel.cardTotal(2);\n      if (ct1 > 21 && ct2 > 21) {\n        bjAction(fieldId, 'judgment');\n        return;\n      }\n    }\n    if (bj.playerModel.split == 1) {\n      bjAction(fieldId, 'splitNext');\n    } else {\n      bj.fieldView.frameSet(0);\n      tmp = bj.dealerModel.cardTotal();\n      if (tmp < 17) {\n        bj.fieldView.messageView('Dealer is hitting ...');\n      } else {\n        if (bj.dealerModel.bj) {\n          str = 'BlackJack !';\n        } else {\n          str = \"Dealer's hand is '\" + tmp + \"'.\";\n        }\n        bj.fieldView.messageView(str);\n      }\n      bj.fieldView.commandSet();\n      bj.holecard();\n      if (tmp < 17) {\n        func = \"bjAction('\" + fieldId + \"', 'dealerHit')\";\n        bj.actionId = setTimeout(func, bj.speed);\n      } else {\n        func = \"bjAction('\" + fieldId + \"', 'judgment')\";\n        bj.actionId = setTimeout(func, bj.waitTime);\n      }\n      bj.debugView();\n    }\n  } else if (command == 'surrender') {\n    bj.fieldView.frameSet();\n    bj.playerModel.getPoint = bj.playerModel.bet / 2;\n    bjAction(fieldId, 'getPoint');\n  } else if (command == 'doubleDown') {\n    var sp = 0;\n    if (bj.playerModel.split == 2) {\n      sp = 1;\n    }\n    bj.playerModel.doubleDown[sp] = true;\n    bj.playerModel.point -= bj.playerModel.bet;\n    bj.fieldView.pointView(bj.playerModel.point);\n    bj.cardAdd(1, bj.playerModel.split);\n    if (bj.playerModel.cardTotal(bj.playerModel.split) > 21) {\n      bj.fieldView.messageView('Busted !');\n    } else {\n      bj.fieldView.messageView('DoubleDown !');\n    }\n    bj.fieldView.commandSet();\n    bj.debugView();\n    bj.clickOk = true;\n    func = \"bjClick('\" + fieldId + \"_stand')\";\n    bj.actionId = setTimeout(func, bj.waitTime);\n  } else if (command == 'split') {\n    bj.fieldView.messageView('Split.');\n    bj.fieldView.commandSet();\n    var card1 = bj.playerModel.card[0][0];\n    var card2 = bj.playerModel.card[0][1];\n    bj.playerModel.init();\n    bj.playerModel.card[0][0] = card1;\n    bj.playerModel.card[1][0] = card2;\n    bj.playerModel.split = 1;\n    bj.playerModel.point -= bj.playerModel.bet;\n    bj.fieldView.pointView(bj.playerModel.point);\n    bj.cardClearAndSet(1);\n    bj.count = 0;\n    func = \"bjAction('\" + fieldId + \"', 'splitDeal')\";\n    bj.actionId = setTimeout(func, bj.speed);\n  } else if (command == 'insurance') {\n    bj.playerModel.point -= bj.playerModel.bet / 2;\n    bj.fieldView.pointView(bj.playerModel.point);\n    if (bj.dealerModel.bj) {\n      bj.fieldView.frameSet(0);\n      bj.holecard();\n      bj.fieldView.messageView(\"Dealer's hand is 'BJ'.\");\n      bj.fieldView.commandSet();\n      func = \"bjAction('\" + fieldId + \"', 'getInsBet')\";\n      bj.actionId = setTimeout(func, bj.waitTime);\n    } else {\n      bj.fieldView.frameSet(0);\n      bj.fieldView.messageView(\"Dealer's hand is not 'BJ'.\");\n      bj.fieldView.commandSet();\n      bj.playerModel.insurance = true;\n      bj.count = 4;\n      func = \"bjAction('\" + fieldId + \"', 'firstDeal')\";\n      bj.actionId = setTimeout(func, bj.waitTime);\n    }\n  } else if (command == 'evenMoney') {\n    bj.fieldView.frameSet();\n    bj.playerModel.getPoint = bj.playerModel.bet * 2;\n    bjAction(fieldId, 'getPoint');\n  }\n}\n\n//\t�^�C�}�p�֐�\nfunction bjAction(fieldId, mode) {\n  var bj = blackJack[fieldId];\n  var func, id, tmp, str;\n  if (mode == 'firstDeal') {\n    func = \"bjAction('\" + fieldId + \"', 'firstDeal')\";\n    if (bj.count <= 1) {\n      bj.cardAdd(1), bj.count++;\n      bj.actionId = setTimeout(func, bj.speed);\n    } else if (bj.count == 2) {\n      bj.cardAdd(0), bj.count++;\n      bj.actionId = setTimeout(func, bj.speed);\n    } else if (bj.count == 3) {\n      bj.cardAdd(0, 1), bj.count++;\n      bj.actionId = setTimeout(func, bj.speed);\n    } else if (bj.count == 4) {\n      bj.mode = 'dealEnd', bj.enter();\n      bj.clickOk = true;\n    }\n  } else if (mode == 'getPoint') {\n    bj.holecard();\n    bj.playerModel.point += bj.playerModel.getPoint;\n    bj.fieldView.pointView(bj.playerModel.point);\n    str = 'You got ' + bj.playerModel.getPoint + ' points.';\n    bj.fieldView.messageView(str);\n    var check = true;\n    if (bj.playerModel.pointOver >= 0) {\n      tmp = bj.playerModel.pointLevel[bj.playerModel.pointOver];\n      if (bj.playerModel.point >= tmp) {\n        check = false;\n        bj.count = 0;\n        func = \"bjAction('\" + fieldId + \"', 'pointOver')\";\n        bj.actionId = setTimeout(func, bj.waitTime);\n      }\n    }\n    if (check) {\n      bj.fieldView.commandSet('next');\n      bj.clickOk = true;\n    }\n  } else if (mode == 'judgment') {\n    bj.fieldView.frameSet();\n    bj.holecard();\n    var result = bj.judgment(0);\n    if (bj.playerModel.split) {\n      var result2 = bj.judgment(1);\n      if (result == 0) {\n        str = 'Lose and ';\n      } else if (result == 1) {\n        str = 'Win and ';\n      } else if (result == 2) {\n        str = 'Draw and ';\n      }\n      if (result2 == 0) {\n        str += 'Lose.';\n      } else if (result2 == 1) {\n        str += 'Win.';\n      } else if (result2 == 2) {\n        str += 'Draw.';\n      }\n    } else {\n      if (result == 0) {\n        str = 'You lost at this game.';\n      } else if (result == 1) {\n        str = 'You won at this game.';\n      } else if (result == 2) {\n        str = 'This game was a draw.';\n      }\n    }\n    bj.fieldView.messageView(str);\n    if (bj.playerModel.getPoint > 0) {\n      func = \"bjAction('\" + fieldId + \"', 'getPoint')\";\n      bj.actionId = setTimeout(func, bj.waitTime);\n    } else {\n      bj.fieldView.commandSet('next');\n      bj.clickOk = true;\n    }\n  } else if (mode == 'dealerHit') {\n    bj.cardAdd(0);\n    tmp = bj.dealerModel.cardTotal();\n    if (tmp > 21) {\n      bj.fieldView.messageView('Busted !');\n      func = \"bjAction('\" + fieldId + \"', 'judgment')\";\n      bj.actionId = setTimeout(func, bj.waitTime);\n    } else if (tmp < 17) {\n      func = \"bjAction('\" + fieldId + \"', 'dealerHit')\";\n      bj.actionId = setTimeout(func, bj.speed);\n    } else {\n      str = \"Dealer's hand is '\" + tmp + \"'.\";\n      bj.fieldView.messageView(str);\n      func = \"bjAction('\" + fieldId + \"', 'judgment')\";\n      bj.actionId = setTimeout(func, bj.waitTime);\n    }\n    bj.debugView();\n  } else if (mode == 'splitDeal') {\n    func = \"bjAction('\" + fieldId + \"', 'splitDeal')\";\n    if (bj.count == 0) {\n      bj.cardAdd(1, 1), bj.count++;\n      bj.actionId = setTimeout(func, bj.speed);\n    } else if (bj.count == 1) {\n      bj.cardAdd(1, 2), bj.count++;\n      bj.actionId = setTimeout(func, bj.speed);\n    } else if (bj.count == 2) {\n      bj.fieldView.frameSet(1);\n      bj.mode = 'hitOrStand', bj.enter();\n      bj.clickOk = true;\n    }\n  } else if (mode == 'splitNext') {\n    bj.playerModel.split++;\n    bj.fieldView.messageView('Split.');\n    bj.fieldView.frameSet(2);\n    bj.mode = 'hitOrStand', bj.enter();\n    bj.clickOk = true;\n  } else if (mode == 'getInsBet') {\n    tmp = bj.playerModel.bet * 1.5;\n    bj.playerModel.point += tmp;\n    bj.fieldView.pointView(bj.playerModel.point);\n    str = 'You got ' + tmp + ' points.';\n    bj.fieldView.messageView(str);\n    bj.fieldView.commandSet('none');\n    func = \"bjAction('\" + fieldId + \"', 'judgment')\";\n    bj.actionId = setTimeout(func, bj.waitTime);\n  } else if (mode == 'pointOver') {\n    if (bj.count == 0) {\n      bj.fieldView.messageView('Congratulations !');\n      bj.fieldView.commandSet('none');\n      bj.count++;\n      func = \"bjAction('\" + fieldId + \"', 'pointOver')\";\n      bj.actionId = setTimeout(func, bj.waitTime);\n    } else if (bj.count == 1) {\n      tmp = bj.playerModel.pointLevel[bj.playerModel.pointOver];\n      str = 'Over ' + tmp + ' points !';\n      bj.fieldView.messageView(str);\n      bj.playerModel.pointOver++;\n      tmp = bj.playerModel.pointLevel.length;\n      if (bj.playerModel.pointOver >= tmp) {\n        bj.playerModel.pointOver = -1;\n      }\n      bj.fieldView.commandSet('next');\n      bj.clickOk = true;\n    }\n  }\n}\n\n//\t�J�[�h�̕��������Ԃ�\nfunction cardStr(num) {\n  var cardNum;\n  if (num == 1) {\n    cardNum = 'A';\n  } else if (num == 11) {\n    cardNum = 'J';\n  } else if (num == 12) {\n    cardNum = 'Q';\n  } else if (num == 13) {\n    cardNum = 'K';\n  } else {\n    cardNum = num + '';\n  }\n  return cardNum;\n}\n\n//\t�_�C�X���[��\nfunction dice(num, dice) {\n  num = naturalNumCheck(num);\n  dice = naturalNumCheck(dice, 6);\n  var i,\n    result = 0;\n  for (i = 0; i < num; i++) {\n    result += Math.ceil(Math.random() * dice);\n  }\n  return result;\n}\n\n//\t���R���`�F�b�N\nfunction naturalNumCheck(checkNum, returnNum) {\n  checkNum -= 0, returnNum -= 0;\n  if (returnNum < 1 || returnNum == null || isNaN(returnNum)) {\n    returnNum = 1;\n  }\n  if (checkNum < 1 || checkNum == null || isNaN(checkNum)) {\n    return returnNum;\n  } else {\n    return checkNum;\n  }\n}\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"BlackJack\");\n$RefreshReg$(_c2, \"FieldView\");\n$RefreshReg$(_c3, \"CardView\");\n$RefreshReg$(_c4, \"DealerModel\");\n$RefreshReg$(_c5, \"PlayerModel\");","map":{"version":3,"names":["useNavigate","id","BlackJack","fieldId","arguments","debug","point","size","speed","waitTime","color","outFrameColor","bgColor","frameColor","cardColor","cardBackColor","clickOk","count","actionId","i","length","node","document","getElementById","dealerModel","DealerModel","playerModel","PlayerModel","cardView","CardView","fieldView","FieldView","mode","enter","debugView","prototype","j","tmp","card","cardClearAndSet","commandSet","messageView","init","bet","pointView","frameSet","bjCheck","bj","insurance","insBet","card1","card2","dd","split","sp","len","target","clear","set","num","cardFieldSet","cardAdd","option","oneCards","slice","sp2","holecard","judgment","result","spt","pTotal","cardTotal","dTotal","pt","doubleDown","getPoint","appendChild","createTextNode","str","cardNum","cardStr","firstChild","nodeValue","lineHeight","Math","ceil","widthHalf","width","ie","agt","navigator","appName","match","fieldSet","nTable","nCaption","nTbody","nTr","nTd","nP","nDiv","nSpan","nTable2","nTbody2","nTr2","nTd2","nTable3","nTbody3","nTr3","nTd3","createElement","style","background","border","borderCollapse","fontSize","fontWeight","fontFamily","textDecoration","padding","rowSpan","vAlign","marginBottom","align","margin","marginTop","floor","textAlign","colSpan","dealer","marginLeft","command","elm","createComElement","cellSpacing","sign","id2","title","element","halfSize","onclick","bjClick","cursor","miniFont","borderColor","childNodes","removeChild","sizeMax","sizeMin","height","half","nText","tableLayout","borderRight","paddingLeft","Array","cardLimit","dice","ace","firstPoint","pointLevel","pointOver","min","fullInit","func","blackJack","replace","setTimeout","ct1","ct2","bjAction","check","result2","naturalNumCheck","random","checkNum","returnNum","isNaN"],"sources":["/Users/itta/Desktop/week3/myToken/bj/src/component/blackjack.js"],"sourcesContent":["/*\n\t�uJavaScript �u���b�N�W���b�N�v\t\t2004/05/06��\n\n\tTHU\n\tmadpoet@thu.sakura.ne.jp\n\thttp://thu.sakura.ne.jp/\n*/\n\n//\t�u���b�N�W���b�N�����p�N���X\nimport { useNavigate } from \"react-router-dom\"\n\t\tconst id = \"blackJ\"\n\nfunction BlackJack() {\n\tthis.fieldId = arguments[0];\n\n\tthis.debug = false;\n\n\tthis.point = 100;\t\t\t// �����_��\n\tthis.size = 8;\t\t\t\t// �S�̂̃T�C�Y���{�l\n\tthis.speed = 100;\t\t\t// �J�[�h�z�z�҂�����\n\tthis.waitTime = 1000;\t\t\t// �����\\���҂�����\n\tthis.color = 'black';\t\t\t// �����F\n\tthis.outFrameColor = 'black';\t\t// ���ԊO���̘g���̐F\n\tthis.bgColor = 'limegreen';\t\t// �t�B�[���h�̔w�i�F\n\tthis.frameColor = 'black';\t\t// �g���̐F\n\tthis.cardColor = 'white';\t\t// �J�[�h�̐F\n\tthis.cardBackColor = 'royalblue';\t// �J�[�h�̗��ʂ̐F\n\n\tthis.clickOk = false;\n\tthis.count = 0;\n\tthis.actionId = 0;\n\n\tvar i;\n\tfor (i = 1; i < arguments.length; i++) {\n\t\tif (i == 1) { this.point = arguments[i]; }\n\t\telse if (i == 2) { this.size = arguments[i]; }\n\t\telse if (i == 3) { this.speed = arguments[i]; }\n\t\telse if (i == 4) { this.waitTime = arguments[i]; }\n\t\telse if (i == 5) { this.color = arguments[i]; }\n\t\telse if (i == 6) { this.outFrameColor = arguments[i]; }\n\t\telse if (i == 7) { this.bgColor = arguments[i]; }\n\t\telse if (i == 8) { this.frameColor = arguments[i]; }\n\t\telse if (i == 9) { this.cardColor = arguments[i]; }\n\t\telse if (i == 10) { this.cardBackColor = arguments[i]; }\n\t}\n\n\tif(this.node = document.getElementById(this.fieldId)) {\n\t\tthis.dealerModel = new DealerModel();\n\t\tthis.playerModel = new PlayerModel(this.point);\n\t\tthis.cardView = new CardView(this.size, this.color, this.frameColor, this.cardColor, this.cardBackColor, this.bgColor);\n\t\tthis.fieldView = new FieldView(this.fieldId, this.size, this.color, this.outFrameColor, this.bgColor, this.frameColor);\n\t\tthis.mode = 'start';\n\t\tthis.enter();\n\t\tthis.debugView('set');\n\t\tthis.clickOk = true;\n\t}\n}\n\n//\t�u���b�N�W���b�N�����F�R�}���h�̎��s�ƕ\\��\nBlackJack.prototype.enter = function() {\n\tvar i, j, id, tmp;\n\n\tif (this.mode == 'start') {\n\t\tvar card = -2;\n\t\tfor (i = 0; i < 5; i++) {\n\t\t\tcard++;\n\t\t\tthis.dealerModel.card[i] = card;\n\t\t}\n\t\tfor (j = 0; j < 2; j++) {\n\t\t\tfor (i = 0; i < 5; i++) {\n\t\t\t\tcard++;\n\t\t\t\tthis.playerModel.card[j][i] = card;\n\t\t\t}\n\t\t}\n\t\tthis.cardClearAndSet();\n\t\tthis.fieldView.commandSet('start');\n\t} else if (this.mode == 'bet') {\n\t\tif (this.playerModel.point >= 10) {\n\t\t\tthis.fieldView.messageView('Please bet.');\n\t\t\tthis.dealerModel.init(), this.playerModel.init();\n\t\t\tthis.cardClearAndSet();\n\t\t\tthis.fieldView.commandSet('bet');\n\t\t\tif (this.playerModel.bet > this.playerModel.point) {\n\t\t\t\ttmp = this.playerModel.point;\n\t\t\t\ttmp -= tmp % 10;\n\t\t\t\tthis.playerModel.bet = tmp;\n\t\t\t}\n\t\t\tthis.playerModel.point -= this.playerModel.bet;\n\t\t\tthis.fieldView.pointView(this.playerModel.bet, 1);\n\t\t\tthis.fieldView.pointView(this.playerModel.point);\n\t\t\tthis.debugView();\n\t\t} else {\n\t\t\tthis.fieldView.pointView(this.playerModel.point);\n\t\t\tthis.fieldView.messageView('you are lacking in points.');\n\t\t\tthis.fieldView.commandSet('restart');\n\t\t}\n\t} else if (this.mode == 'dealEnd') {\n\t\tthis.fieldView.frameSet(1);\n\t\tthis.playerModel.bjCheck();\n\t\tthis.dealerModel.bjCheck();\n\t\tif (this.playerModel.bj) {\n\t\t\tthis.fieldView.messageView('BlackJack !');\n\t\t} else {\n\t\t\tthis.fieldView.messageView('Hit or Stand? Or ...');\n\t\t}\n\t\tthis.fieldView.commandSet();\n\t\tif (this.dealerModel.card[0] == 1 && !this.playerModel.insurance) {\n\t\t\tvar insBet = this.playerModel.bet / 2;\n\t\t\tif (this.playerModel.point >= insBet) {\n\t\t\t\tif (this.playerModel.bj) {\n\t\t\t\t\tthis.fieldView.commandSet('evenMoney', 1);\n\t\t\t\t} else {\n\t\t\t\t\tthis.fieldView.commandSet('insurance', 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar card1 = this.playerModel.card[0][0];\n\t\tif (card1 > 10) { card1 = 10; }\n\t\tvar card2 = this.playerModel.card[0][1];\n\t\tif (card2 > 10) { card2 = 10; }\n\t\tif (card1 == card2) {\n\t\t\tif (this.playerModel.point >= this.playerModel.bet) {\n\t\t\t\tthis.fieldView.commandSet('split', 1);\n\t\t\t}\n\t\t}\n\t\tif (this.playerModel.point >= this.playerModel.bet) {\n\t\t\tif (!this.playerModel.bj) {\n\t\t\t\tthis.fieldView.commandSet('doubleDown', 1);\n\t\t\t}\n\t\t}\n\t\tif (!this.playerModel.bj) {\n\t\t\tthis.fieldView.commandSet('surrender', 1);\n\t\t\tthis.fieldView.commandSet('hit', 1);\n\t\t}\n\t\tthis.fieldView.commandSet('stand', 1);\n\t\tthis.debugView();\n\t} else if (this.mode == 'hitOrStand') {\n\t\tvar dd = false;\n\t\tif (this.playerModel.split) {\n\t\t\tvar sp = 0;\n\t\t\tif (this.playerModel.split == 2) { sp = 1; }\n\t\t\tvar len = this.playerModel.card[sp].length;\n\t\t\tif (len == 2 && this.playerModel.point >= this.playerModel.bet) {\n\t\t\t\tdd = true;\n\t\t\t}\n\t\t}\n\t\tif (dd) {\n\t\t\tthis.fieldView.messageView('Hit or Stand? Or ...');\n\t\t\tthis.fieldView.commandSet('doubleDown');\n\t\t\tthis.fieldView.commandSet('hit', 1);\n\t\t\tthis.fieldView.commandSet('stand', 1);\n\t\t} else {\n\t\t\tthis.fieldView.messageView('Hit or Stand?');\n\t\t\tthis.fieldView.commandSet('hit');\n\t\t\tthis.fieldView.commandSet('stand', 1);\n\t\t}\n\t\tthis.debugView();\n\t}\n}\n\n//\t�u���b�N�W���b�N�����F�J�[�h�̏����Z�b�g\nBlackJack.prototype.cardClearAndSet = function(target) {\n\t// target�i0:�f�B�[���A1:�v���C���A�����`�F�o���j\n\tvar i, j, id;\n\n\tif (target == 0 || target == null) {\n\t\t// �f�B�[���̃J�[�h���Z�b�g\n\t\tfor (i = 1; i <= 5; i++) {\n\t\t\tid = this.fieldId + '_dField_c' + i;\n\t\t\tthis.cardView.clear(id);\n\t\t}\n\t\tif (this.dealerModel.card.length == 0) {\n\t\t\tid = this.fieldId + '_dField_c1';\n\t\t\tthis.cardView.set(id, 20);\n\t\t} else {\n\t\t\tfor (i = 1; i <= this.dealerModel.card.length; i++) {\n\t\t\t\tid = this.fieldId + '_dField_c' + i;\n\t\t\t\tthis.cardView.set(id, this.dealerModel.card[i-1]);\n\t\t\t}\n\t\t}\n\t}\n\tif (target == 1 || target == null) {\n\t\t// �v���C���̃J�[�h���Z�b�g\n\t\tid = this.fieldId + '_pCardField';\n\t\tthis.fieldView.clear(id);\n\t\tvar length, num;\n\t\tif (this.playerModel.card[1].length > 0) {\n\t\t\tthis.fieldView.cardFieldSet(id, 1);\n\t\t\tfor (j = 1; j <= 2; j++) {\n\t\t\t\tlength = this.playerModel.card[j-1].length;\n\t\t\t\tfor (i = 1; i <= length; i++) {\n\t\t\t\t\tid = this.fieldId;\n\t\t\t\t\tid += '_pField' + j + '_c' + i;\n\t\t\t\t\tnum = this.playerModel.card[j-1][i-1];\n\t\t\t\t\tif (i == length) {\n\t\t\t\t\t\tthis.cardView.set(id, num);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.cardView.set(id, num, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.fieldView.cardFieldSet(id);\n\t\t\tif (this.playerModel.card[0].length == 0) {\n\t\t\t\tid = this.fieldId + '_pField1_c1';\n\t\t\t\tthis.cardView.set(id, 20);\n\t\t\t} else {\n\t\t\t\tfor (i = 1; i <= this.playerModel.card[0].length; i++) {\n\t\t\t\t\tid = this.fieldId + '_pField1_c' + i;\n\t\t\t\t\tthis.cardView.set(id, this.playerModel.card[0][i-1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n//\t�u���b�N�W���b�N�����F�J�[�h�z�z\nBlackJack.prototype.cardAdd = function(target, option) {\n\t// target�i0:�f�B�[���A1:�v���C���j\n\t// option �f�B�[���̏ꍇ�i1:holecard�j\n\t// option �v���C���̏ꍇ�i�����`:�ʏ��A1:split(1)�A2:split(2)�j\n\n\tvar num, id, tmp;\n\tif (target == 1 && !option) {\n\t\tnum = this.playerModel.card[0].length;\n\t\tif (num == 5) { return false; }\n\t\tthis.playerModel.card[0][num] = this.dealerModel.oneCards[0];\n\t\tthis.dealerModel.oneCards = this.dealerModel.oneCards.slice(1);\n\t\ttmp = num + 1;\n\t\tid = this.fieldId + '_pField1_c' + tmp;\n\t\tthis.cardView.clear(id);\n\t\tthis.cardView.set(id, this.playerModel.card[0][num]);\n\t} else if (target == 1) {\n\t\tvar sp = 0, sp2 = 1;\n\t\tif (option == 2) { sp = 1, sp2 = 2; }\n\t\tnum = this.playerModel.card[sp].length;\n\t\tif (num == 5) { return false; }\n\t\tthis.playerModel.card[sp][num] = this.dealerModel.oneCards[0];\n\t\tthis.dealerModel.oneCards = this.dealerModel.oneCards.slice(1);\n\t\tid = this.fieldId + '_pField' + sp2 + '_c';\n\t\ttmp = num;\n\t\tif (num > 0) {\n\t\t\tthis.cardView.clear(id + tmp);\n\t\t\tthis.cardView.set(id + tmp, this.playerModel.card[sp][num-1], 1);\n\t\t}\n\t\ttmp++;\n\t\tthis.cardView.clear(id + tmp);\n\t\tthis.cardView.set(id + tmp, this.playerModel.card[sp][num]);\n\t} else if (target == 0) {\n\t\tnum = this.dealerModel.card.length;\n\t\tif (num == 5) { return false; }\n\t\tthis.dealerModel.card[num] = this.dealerModel.oneCards[0];\n\t\tthis.dealerModel.oneCards = this.dealerModel.oneCards.slice(1);\n\t\ttmp = num + 1;\n\t\tid = this.fieldId + '_dField_c' + tmp;\n\t\tif (option) {\n\t\t\tthis.cardView.clear(id);\n\t\t\tthis.cardView.set(id, 0);\n\t\t} else {\n\t\t\tthis.cardView.clear(id);\n\t\t\tthis.cardView.set(id, this.dealerModel.card[num]);\n\t\t}\n\t}\n}\n\n//\t�u���b�N�W���b�N�����F�z�[���J�[�h���J��\nBlackJack.prototype.holecard = function() {\n\tif (this.dealerModel.holecard) {\n\t\tvar id = this.fieldId + '_dField_c2';\n\t\tthis.cardView.clear(id);\n\t\tthis.cardView.set(id, this.dealerModel.card[1]);\n\t\tthis.dealerModel.holecard = false;\n\t}\n}\n\n//\t�u���b�N�W���b�N�����F���s����\nBlackJack.prototype.judgment = function(sp) {\n\tvar result = 2;\n\tvar spt = 0;\n\tif (sp) { spt = 2; }\n\tvar pTotal = this.playerModel.cardTotal(spt);\n\tvar dTotal = this.dealerModel.cardTotal();\n\n\t// �o�[�X�g�������H\n\tif (pTotal > 21) { result = 0; }\n\telse if (dTotal > 21) { result = 1; }\n\t// �u���b�N�W���b�N���H\n\telse if (this.playerModel.bj && !this.dealerModel.bj) { result = 1; }\n\telse if (this.dealerModel.bj && !this.playerModel.bj) { result = 0; }\n\t// ���v�l���r\n\telse if (pTotal > dTotal) { result = 1; }\n\telse if (dTotal > pTotal) { result = 0; }\n\t// ���_���̖������r\n\telse if (this.playerModel.card[sp].length > this.dealerModel.card.length) { result = 1; }\n\telse if (this.dealerModel.card.length > this.playerModel.card[sp].length) { result = 0; }\n\n\t// ����point\n\tif (result == 1) {\n\t\tvar pt = this.playerModel.bet;\n\t\tif (this.playerModel.bj) { pt *= 2.5; }\n\t\telse if (this.playerModel.doubleDown[sp]) { pt = pt * 4; }\n\t\telse { pt *= 2; }\n\t\tthis.playerModel.getPoint += pt;\n\t} else if (result == 2) {\n\t\tthis.playerModel.getPoint += this.playerModel.bet;\n\t}\n\n\treturn result;\n}\n\n//\t�u���b�N�W���b�N�����F�f�o�O�����\\��\nBlackJack.prototype.debugView = function(mode) {\n\tif (!this.debug) { return false; }\n\tvar id = this.fieldId + '_debug';\n\tvar node;\n\tif(!(node = document.getElementById(id))) { return false; }\n\tif (mode == 'set') {\n\t\tnode.appendChild(document.createTextNode('debug'));\n\t} else if (this.dealerModel.oneCards.length > 0) {\n\t\tvar str = 'debug: ', num, cardNum;\n\t\tif (this.dealerModel.card.length == 2) {\n\t\t\tnum = cardStr(this.dealerModel.card[1]);\n\t\t\tstr += '(' + num + ') ';\n\t\t}\n\t\tvar i;\n\t\tstr += '(' + cardStr(this.dealerModel.oneCards[0]);\n\t\tfor (i = 1; i < this.dealerModel.oneCards.length; i++) {\n\t\t\tstr += ',' + cardStr(this.dealerModel.oneCards[i]);\n\t\t}\n\t\tstr += ')';\n\t\tnode.firstChild.nodeValue = str;\n\t}\n}\n\n//\t�t�B�[���h�r���[�N���X\nfunction FieldView(fieldId, size, color, outFrameColor, bgColor, frameColor) {\n\tthis.fieldId = fieldId;\n\tthis.size = size + 2;\n\tthis.lineHeight = this.size + Math.ceil(this.size / 2);\n\tthis.color = color;\n\tthis.outFrameColor = outFrameColor;\n\tthis.bgColor = bgColor;\n\tthis.frameColor = frameColor;\n\tthis.widthHalf = this.size + 2;\n\tthis.widthHalf = (this.widthHalf * 5) + this.widthHalf;\n\tthis.width = this.widthHalf * 2;\n\n\tthis.ie = false;\n\tvar agt = navigator.appName;\n\tif (agt.match(/Internet Explorer/)){ this.ie = true;}\n\n\tthis.init();\n}\n\n//\t�t�B�[���h�r���[�F������\nFieldView.prototype.init = function() {\n\tthis.clear(this.fieldId);\n\tthis.fieldSet();\n\tthis.cardFieldSet(this.fieldId + '_dCardField', 0, 1);\n}\n\n//\t�t�B�[���h�r���[�F�t�B�[���h�̃Z�b�g\nFieldView.prototype.fieldSet = function() {\n\tid = this.fieldId;\n\tvar node;\n\tif(!(node = document.getElementById(id))) { return false; }\n\tvar nTable, nCaption, nTbody, nTr, nTd, nP, nDiv, nSpan;\n\tvar nTable2, nTbody2, nTr2, nTd2, nTable3, nTbody3, nTr3, nTd3;\n\tnTable = document.createElement('table');\n\tnTable.style.background = this.bgColor;\n\tnTable.style.border = '1pt solid ' + this.outFrameColor;\n\tnTable.style.borderCollapse = 'collapse';\n\tnTbody = document.createElement('tbody');\n\tnTr = document.createElement('tr');\n\t// �^�C�g������\n\tnTd = document.createElement('td');\n\tnTd.style.fontSize = this.size + 'pt';\n\tnTd.style.fontWeight = 'bold';\n\tnTd.style.fontFamily = 'sans-serif';\n\tnTd.style.color = this.color;\n\tnTd.style.textDecoration = 'underline';\n\tnTd.style.padding = '2pt';\n\tnTd.appendChild(document.createTextNode('BlackJack'));\n\tnTr.appendChild(nTd);\n\t// �R�}���h����\n\tnTd = document.createElement('td');\n\tnTd.rowSpan = 4;\n\tnTd.vAlign = 'bottom';\n\tnTd.style.fontSize = this.size + 'pt';\n\tnTd.style.color = this.color;\n\tnTd.style.width = this.widthHalf + 'pt';\n\tnP = document.createElement('p');\n\tnP.id = id + '_command';\n\tnP.style.marginBottom = '0pt';\n\tnP.align = 'center';\n\tnTd.appendChild(nP);\n\tnDiv = document.createElement('div');\n\tnDiv.style.border = '1pt solid ' + this.frameColor;\n\tnDiv.style.margin = '2pt';\n\tnDiv.style.marginTop = Math.floor(this.size / 2.2) + 'pt';\n\tnDiv.style.textAlign = 'right';\n\tnSpan = document.createElement('span');\n\tnSpan.id = this.fieldId + '_point';\n\tnSpan.appendChild(document.createTextNode('0'));\n\tnDiv.appendChild(nSpan);\n\tnSpan = document.createElement('span');\n\tnSpan.style.fontWeight = 'bold';\n\tnSpan.appendChild(document.createTextNode(' pt.'));\n\tnDiv.appendChild(nSpan);\n\tnTd.appendChild(nDiv);\n\tnTr.appendChild(nTd);\n\tnTbody.appendChild(nTr);\n\t// �f�B�[�����t�B�[���h\n\tnTr = document.createElement('tr');\n\tnTd = document.createElement('td');\n\tnTd.id = id + '_dCardField';\n\tnTr.appendChild(nTd);\n\tnTbody.appendChild(nTr);\n\t// ���b�Z�[�W�t�B�[���h\n\tnTr = document.createElement('tr');\n\tnTd = document.createElement('td');\n\tnDiv = document.createElement('div');\n\tnDiv.id = id + '_mField';\n\tnDiv.style.margin = '0pt 5pt';\n\tnDiv.style.border = '1pt solid ' + this.frameColor;\n\tnDiv.style.fontSize = this.size + 'pt';\n\tnDiv.style.lineHeight = this.lineHeight + 'pt';\n\tnDiv.style.fontWeight = 'bold';\n\tnDiv.style.color = this.color;\n\tnDiv.style.textAlign = 'center';\n\tnDiv.appendChild(document.createTextNode('Click Start.'));\n\tnTd.appendChild(nDiv);\n\tnTr.appendChild(nTd);\n\tnTbody.appendChild(nTr);\n\t// �v���C�����t�B�[���h\n\tnTr = document.createElement('tr');\n\tnTd = document.createElement('td');\n\tnTd.id = id + '_pCardField';\n\tnTr.appendChild(nTd);\n\tnTbody.appendChild(nTr);\n\t// �f�o�O�����t�B�[���h\n\tnTr = document.createElement('tr');\n\tnTd = document.createElement('td');\n\tnTd.colSpan = 2;\n\tnTd.style.fontSize = this.size + 'pt';\n\tnTd.style.color = this.color;\n\tnTd.id = id + '_debug';\n\tnTr.appendChild(nTd);\n\tnTbody.appendChild(nTr);\n\n\tnTable.appendChild(nTbody);\n\tnode.appendChild(nTable);\n}\n\n//\t�t�B�[���h�r���[�F�J�[�h�t�B�[���h�̃Z�b�g\nFieldView.prototype.cardFieldSet = function(id, split, dealer) {\n\tvar i, j;\n\tvar node;\n\tif(!(node = document.getElementById(id))) { return false; }\n\tvar nTable, nCaption, nTbody, nTr, nTd;\n\tvar nTable2, nTbody2, nTr2, nTd2, nTable3, nTbody3, nTr3, nTd3;\n\tif (split) {\n\t\tnTable = document.createElement('table');\n\t\tnTable.style.border = 'none';\n\t\tnTable.style.borderCollapse = 'collapse';\n\t\tnCaption = document.createElement('caption');\n\t\tnCaption.align = 'bottom';\n\t\tnCaption.style.marginBottom = '2pt';\n\t\tnCaption.style.fontSize = this.size + 'pt';\n\t\tnCaption.style.color = this.color;\n\t\tnCaption.appendChild(document.createTextNode('Player'));\n\t\tnTable.appendChild(nCaption);\n\t\tnTbody = document.createElement('tbody');\n\t\tnTr = document.createElement('tr');\n\t\tfor (j = 1; j <= 2; j++) {\n\t\t\tnTd = document.createElement('td');\n\t\t\tnTd.style.padding = '0pt';\n\t\t\tnTable2 = document.createElement('table');\n\t\t\tnTable2.id = this.fieldId + '_pField' + j;\n\t\t\tnTable2.style.border = '1pt dotted ' + this.bgColor;\n\t\t\tnTable2.style.borderCollapse = 'collapse';\n\t\t\tnTable2.style.width = this.widthHalf + 'pt';\n\t\t\tnTbody2 = document.createElement('tbody');\n\t\t\tnTr2 = document.createElement('tr');\n\t\t\tnTd2 = document.createElement('td');\n\t\t\tnTd2.style.padding = '0pt';\n\t\t\tnTable3 = document.createElement('table');\n\t\t\tnTable3.style.margin = '1pt';\n\t\t\tnTable3.style.border = 'none';\n\t\t\tnTable3.style.borderCollapse = 'collapse';\n\t\t\tnTbody3 = document.createElement('tbody');\n\t\t\tnTr3 = document.createElement('tr');\n\t\t\tnTd3 = document.createElement('td');\n\t\t\tfor (i = 1; i <= 5; i++) {\n\t\t\t\tnTd3 = document.createElement('td');\n\t\t\t\tnTd3.id = this.fieldId + '_pField' + j + '_c' + i;\n\t\t\t\tnTd3.style.padding = '1pt 0pt';\n\t\t\t\tnTr3.appendChild(nTd3);\n\t\t\t}\n\t\t\tnTbody3.appendChild(nTr3);\n\t\t\tnTable3.appendChild(nTbody3);\n\t\t\tnTd2.appendChild(nTable3);\n\t\t\tnTr2.appendChild(nTd2);\n\t\t\tnTbody2.appendChild(nTr2);\n\t\t\tnTable2.appendChild(nTbody2);\n\t\t\tnTd.appendChild(nTable2);\n\t\t\tnTr.appendChild(nTd);\n\t\t}\n\t\tnTbody.appendChild(nTr);\n\t\tnTable.appendChild(nTbody);\n\t\tnode.appendChild(nTable);\n\t} else {\n\t\tnTable = document.createElement('table');\n\t\tif (dealer) { nTable.id = this.fieldId + '_dField'; }\n\t\telse { nTable.id = this.fieldId + '_pField1'; }\n\t\tnTable.style.border = '1pt dotted ' + this.bgColor;\n\t\tnTable.style.borderCollapse = 'collapse';\n\t\tnTable.style.width = this.width + 'pt';\n\t\tnCaption = document.createElement('caption');\n\t\tnCaption.style.color = this.color;\n\t\tif (dealer) {\n\t\t\tnCaption.appendChild(document.createTextNode('Dealer'));\n\t\t} else {\n\t\t\tnCaption.align = 'bottom';\n\t\t\tnCaption.style.marginBottom = '2pt';\n\t\t\tnCaption.appendChild(document.createTextNode('Player'));\n\t\t}\n\t\tnCaption.style.fontSize = this.size + 'pt';\n\t\tnTable.appendChild(nCaption);\n\t\tnTbody = document.createElement('tbody');\n\t\tnTr = document.createElement('tr');\n\t\tnTd = document.createElement('td');\n\t\tnTd.style.padding = '1pt 0pt';\n\t\tnTable2 = document.createElement('table');\n\t\tnTable2.style.margin = '1pt';\n\t\tnTable2.style.marginLeft = this.size + 'pt';\n\t\tnTable2.style.border = 'none';\n\t\tnTable2.style.borderCollapse = 'collapse';\n\t\tnTbody2 = document.createElement('tbody');\n\t\tnTr2 = document.createElement('tr');\n\t\tfor (i = 1; i <= 5; i++) {\n\t\t\tnTd2 = document.createElement('td');\n\t\t\tif (dealer) {\n\t\t\t\tnTd2.id = this.fieldId + '_dField_c' + i;\n\t\t\t} else { nTd2.id = this.fieldId + '_pField1_c' + i; }\n\t\t\tnTd2.style.padding = '0pt 2pt';\n\t\t\tnTr2.appendChild(nTd2);\n\t\t}\n\t\tnTbody2.appendChild(nTr2);\n\t\tnTable2.appendChild(nTbody2);\n\t\tnTd.appendChild(nTable2);\n\t\tnTr.appendChild(nTd);\n\t\tnTbody.appendChild(nTr);\n\t\tnTable.appendChild(nTbody);\n\t\tnode.appendChild(nTable);\n\t}\n\n}\n\n//\t�t�B�[���h�r���[�F�_���̕\\��\nFieldView.prototype.pointView = function(pt, bet) {\n\tvar id;\n\tif (bet) { id = this.fieldId + '_betPoint'; }\n\telse { id = this.fieldId + '_point'; }\n\tvar node, num;\n\tif(!(node = document.getElementById(id))) { return false; }\n\tif (pt >= 0) {\n\t\tnum = pt;\n\t\tif (num > 999999999) { num = 999999999; }\n\t} else { num = 0; }\n\tnode.firstChild.nodeValue = num + '';\n}\n\n//\t�t�B�[���h�r���[�F���b�Z�[�W�̕\\��\nFieldView.prototype.messageView = function(str) {\n\tvar id = this.fieldId + '_mField';\n\tvar node;\n\tif(!(node = document.getElementById(id))) { return false; }\n\tnode.firstChild.nodeValue = str + '';\n}\n\n//\t�t�B�[���h�r���[�F�R�}���h�{�^���̃Z�b�g\nFieldView.prototype.commandSet = function(command, option) {\n\t// command�i�����`:�N���A�j\n\t// option�i1:�N���A���Ȃ��j\n\n\tvar id = this.fieldId + '_command';\n\tvar node;\n\tif(!(node = document.getElementById(id))) { return false; }\n\tif (!option) { this.clear(id); }\n\tvar i, j, elm;\n\tif (command == 'start') {\n\t\t// �X�^�[�g�{�^��\n\t\telm = this.createComElement('div');\n\t\telm.id = this.fieldId + '_start';\n\t\telm.appendChild(document.createTextNode('Start'));\n\t\tnode.appendChild(elm);\n\t} else if (command == 'bet') {\n\t\t// bet�\\��\n\t\tvar nTable, nTbody, nTr, nTd;\n\t\tnTable = document.createElement('table');\n\t\tnTable.style.border = 'none';\n\t\tnTable.style.borderCollapse = 'collapse';\n\t\tnTable.style.width = '90%';\n\t\tnTbody = document.createElement('tbody');\n\t\tnTr = document.createElement('tr');\n\t\tnTd = document.createElement('td');\n\t\tnTd.style.fontSize = this.size + 'pt';\n\t\tnTd.style.fontWeight = 'bold';\n\t\tnTd.style.color = this.color;\n\t\tnTd.appendChild(document.createTextNode('bet:'));\n\t\tnTr.appendChild(nTd);\n\t\tnTd = document.createElement('td');\n\t\tnTd.style.fontSize = this.size + 'pt';\n\t\tnTd.style.color = this.color;\n\t\tnTd.style.textAlign = 'right';\n\t\telm = document.createElement('span');\n\t\telm.id = this.fieldId + '_betPoint';\n\t\telm.appendChild(document.createTextNode('10'));\n\t\tnTd.appendChild(elm);\n\t\telm = document.createElement('span');\n\t\telm.style.fontWeight = 'bold';\n\t\telm.appendChild(document.createTextNode(' pt.'));\n\t\tnTd.appendChild(elm);\n\t\tnTr.appendChild(nTd);\n\t\tnTbody.appendChild(nTr);\n\t\tnTable.appendChild(nTbody);\n\t\tnode.appendChild(nTable);\n\t\t// bet�{�^��\n\t\tnTable = document.createElement('table');\n\t\tnTable.cellSpacing = 2;\n\t\tnTable.style.border = 'none';\n\t\tnTbody = document.createElement('tbody');\n\t\tvar str, sign, num, id = this.fieldId + '_bet-', id2;\n\t\tfor (j = 0; j < 2; j++) {\n\t\t\tif (j == 0) { sign = '+', id2 = id + 'p-'; }\n\t\t\telse { sign = '-', id2 = id + 'm-'; }\n\t\t\tnum = 10000;\n\t\t\tnTr = document.createElement('tr');\n\t\t\tfor (i = 0; i < 3; i++) {\n\t\t\t\tnTd = document.createElement('td');\n\t\t\t\tnTd.style.padding = '0pt';\n\t\t\t\telm = this.createComElement('div2');\n\t\t\t\tnum /= 10;\n\t\t\t\telm.id = id2 + num;\n\t\t\t\tstr = sign + num + '';\n\t\t\t\telm.appendChild(document.createTextNode(str));\n\t\t\t\tnTd.appendChild(elm);\n\t\t\t\tnTr.appendChild(nTd);\n\t\t\t}\n\t\t\tnTbody.appendChild(nTr);\n\t\t}\n\t\tnTable.appendChild(nTbody);\n\t\tnode.appendChild(nTable);\n\t\t// Deal�{�^��\n\t\telm = this.createComElement('div');\n\t\telm.id = this.fieldId + '_deal';\n\t\telm.title = '�q�����I���i�����j���A�J�[�h���z���܂��B';\n\t\telm.appendChild(document.createTextNode('Deal'));\n\t\tnode.appendChild(elm);\n\t} else if (command == 'hit') {\n\t\telm = this.createComElement('div');\n\t\telm.id = this.fieldId + '_hit';\n\t\telm.title = '�J�[�h���ꖇ�����܂��B';\n\t\telm.appendChild(document.createTextNode('Hit'));\n\t\tnode.appendChild(elm);\n\t} else if (command == 'stand') {\n\t\telm = this.createComElement('div');\n\t\telm.id = this.fieldId + '_stand';\n\t\telm.title = '�J�[�h�������̂����߁A���݂̎��ŏ������܂��B';\n\t\telm.appendChild(document.createTextNode('Stand'));\n\t\tnode.appendChild(elm);\n\t} else if (command == 'doubleDown') {\n\t\telm = this.createComElement('div');\n\t\telm.id = this.fieldId + '_doubleDown';\n\t\telm.title = '���ƈꖇ���������J�[�h�������Ȃ��������ɁAbet�ɓ��z�����悹���܂��B';\n\t\telm.appendChild(document.createTextNode('DoubleDown'));\n\t\tnode.appendChild(elm);\n\t} else if (command == 'surrender') {\n\t\telm = this.createComElement('div');\n\t\telm.id = this.fieldId + '_surrender';\n\t\telm.title = '�������錾���Abet�̔��z�������߂��܂��B';\n\t\telm.appendChild(document.createTextNode('Surrender'));\n\t\tnode.appendChild(elm);\n\t} else if (command == 'split') {\n\t\telm = this.createComElement('div');\n\t\telm.id = this.fieldId + '_split';\n\t\telm.title = '���D�𕪊����A�ʁX�̎��������ď������܂��Bbet�Ɠ��z���K�v�ł��B';\n\t\telm.appendChild(document.createTextNode('Split'));\n\t\tnode.appendChild(elm);\n\t} else if (command == 'evenMoney') {\n\t\telm = this.createComElement('div');\n\t\telm.id = this.fieldId + '_evenMoney';\n\t\telm.title = 'BJ�̔z�������߁A�ʏ��̔z�����󂯎����܂��B';\n\t\telm.appendChild(document.createTextNode('EvenMoney'));\n\t\tnode.appendChild(elm);\n\t} else if (command == 'insurance') {\n\t\telm = this.createComElement('div');\n\t\telm.id = this.fieldId + '_insurance';\n\t\telm.title = '�uDealer�̎肪BJ�ł����v���ƂɁAbet�̔��z���q���܂��B';\n\t\telm.appendChild(document.createTextNode('Insurance'));\n\t\tnode.appendChild(elm);\n\t} else if (command == 'restart') {\n\t\telm = this.createComElement('div');\n\t\telm.id = this.fieldId + '_restart';\n\t\telm.appendChild(document.createTextNode('Restart'));\n\t\tnode.appendChild(elm);\n\t} else if (command == 'next') {\n\t\telm = this.createComElement('div');\n\t\telm.id = this.fieldId + '_start';\n\t\telm.appendChild(document.createTextNode('NextGame'));\n\t\tnode.appendChild(elm);\n\t} else if (command == 'none') {\n\t\telm = this.createComElement('divNone');\n\t\telm.appendChild(document.createElement('br'));\n\t\tnode.appendChild(elm);\n\t}\n}\n\n//\t�t�B�[���h�r���[�F�R�}���h�p�v�f�̐���\nFieldView.prototype.createComElement = function(element) {\n\tvar elm;\n\tif (element == 'div') {\n\t\tvar halfSize = Math.floor(this.size / 4);\n\t\telm = document.createElement('div');\n\t\telm.onclick = bjClick;\n\t\telm.style.marginTop = halfSize + 'pt';\n\t\telm.style.border = '2pt double ' + this.frameColor;\n\t\tif (this.ie) { elm.style.cursor = 'hand'; }\n\t\telse { elm.style.cursor = 'pointer'; }\n\t\telm.style.fontSize = this.size + 'pt';\n\t\telm.style.color = this.color;\n\t\telm.style.textAlign = 'center';\n\t\telm.style.width = '80%';\n\t} else if (element == 'div2') {\n\t\tvar miniFont = Math.ceil(this.size / 1.5);\n\t\telm = document.createElement('div');\n\t\telm.onclick = bjClick;\n\t\telm.style.margin = '0pt';\n\t\telm.style.border = '2pt double ' + this.frameColor;\n\t\telm.style.padding = '1pt';\n\t\tif (this.ie) { elm.style.cursor = 'hand'; }\n\t\telse { elm.style.cursor = 'pointer'; }\n\t\telm.style.fontSize = miniFont + 'pt';\n\t\telm.style.color = this.color;\n\t\telm.style.textAlign = 'center';\n\t} else if (element == 'divNone') {\n\t\telm = document.createElement('div');\n\t\telm.style.margin = '0pt';\n\t\telm.style.border = '2pt double ' + this.bgColor;\n\t\telm.style.padding = '1pt';\n\t\telm.style.fontSize = this.size + 'pt';\n\t}\n\treturn elm;\n}\n\n//\t�t�B�[���h�r���[�F�g���F�̃Z�b�g\nFieldView.prototype.frameSet = function(target) {\n\t// target�i0:�f�B�[���A1:�v���C��1�A2:�v���C��2�A���̑�:�S�N���A�j\n\tvar node, id;\n\n\tid = this.fieldId + '_dField';\n\tif (node = document.getElementById(id)) {\n\t\tif (target == 0) { node.style.borderColor = this.frameColor; }\n\t\telse { node.style.borderColor = this.bgColor; }\n\t}\n\tid = this.fieldId + '_pField1';\n\tif (node = document.getElementById(id)) {\n\t\tif (target == 1) { node.style.borderColor = this.frameColor; }\n\t\telse { node.style.borderColor = this.bgColor; }\n\t}\n\tid = this.fieldId + '_pField2';\n\tif (node = document.getElementById(id)) {\n\t\tif (target == 2) { node.style.borderColor = this.frameColor; }\n\t\telse { node.style.borderColor = this.bgColor; }\n\t}\n}\n\n//\t�t�B�[���h�r���[�F�t�B�[���h�̃N���A\nFieldView.prototype.clear = function(id) {\n\tvar node;\n\tif(node = document.getElementById(id)) {\n\t\twhile(true) {\n\t\t\tif(node.childNodes[0] != null) {\n\t\t\t\tnode.removeChild(node.childNodes[0]);\n\t\t\t} else { break; }\n\t\t}\n\t}\n}\n\n//\t�J�[�h�r���[�N���X\nfunction CardView(size, color, frameColor, cardColor, cardBackColor, bgColor) {\n\tthis.size = size;\n\tthis.sizeMax = size + 2;\n\tthis.sizeMin = size - 4;\n\tthis.color = color;\n\tthis.frameColor = frameColor;\n\tthis.cardColor = cardColor;\n\tthis.cardBackColor = cardBackColor;\n\tthis.bgColor = bgColor;\n\tthis.width = this.sizeMax * 2;\n\tthis.height = this.sizeMax * 3;\n}\n\n//\t�J�[�h�r���[�F�J�[�h�̕\\��\nCardView.prototype.set = function(id, num, half) {\n\tvar node, tmp;\n\tif(!(node = document.getElementById(id))) { return false; }\n\tvar nTable, nTbody, nTr, nTd, nText, nTable2, nTbody2, nTr2, nTd2;\n\tnTable = document.createElement('table');\n\tnTable.style.tableLayout = 'fixed';\n\tnTable.style.background = this.cardColor;\n\tnTable.style.border = '1pt solid ' + this.frameColor;\n\tnTable.style.borderCollapse = 'collapse';\n\tnTable.style.width = this.width + 'pt';\n\tnTable.style.height = this.height + 'pt';\n\tif (half) {\n\t\tnTable.style.borderRight = 'none';\n\t\tnTable.style.width = this.sizeMax + 'pt';\n\t}\n\tnTbody = document.createElement('tbody');\n\tif (num >= 1 && num <= 13) {\t\t// �J�[�h�̕\\\n\t\tnTr = document.createElement('tr');\n\t\tnTd = document.createElement('td');\n\t\tnTd.style.padding = '1pt';\n\t\tif (num == 10) { nTd.style.paddingLeft = '0pt'; }\n\t\telse { nTd.style.paddingLeft = '2pt'; }\n\t\tnTd.style.fontSize = this.size + 'pt';\n\t\tnTd.style.fontFamily = 'sans-serif';\n\t\tnTd.style.color = this.color;\n\t\tnTd.style.lineHeight = this.sizeMax + 'pt';\n\t\tnText = document.createTextNode(cardStr(num));\n\t\tnTd.appendChild(nText);\n\t\tnTr.appendChild(nTd);\n\t\tnTbody.appendChild(nTr);\n\t\tnTr = document.createElement('tr');\n\t\tnTd = document.createElement('td');\n\t\tnTd.style.padding = '1pt';\n\t\tnTd.style.lineHeight = this.sizeMin + 'pt';\n\t\tnTd.appendChild(document.createElement('br'));\n\t\tnTr.appendChild(nTd);\n\t\tnTbody.appendChild(nTr);\n\t\tnTr = document.createElement('tr');\n\t\tnTd = document.createElement('td');\n\t\tnTd.style.padding = '1pt';\n\t\tnTd.style.fontSize = this.size + 'pt';\n\t\tnTd.style.fontFamily = 'sans-serif';\n\t\tnTd.style.color = this.color;\n\t\tnTd.style.lineHeight = this.size + 'pt';\n\t\tif (half) {\n\t\t\tnTd.appendChild(document.createElement('br'));\n\t\t} else {\n\t\t\tnTd.style.textAlign = 'right';\n\t\t\tnText = document.createTextNode(cardStr(num));\n\t\t\tnTd.appendChild(nText);\n\t\t}\n\t\tnTr.appendChild(nTd);\n\t\tnTbody.appendChild(nTr);\n\t} else if (num <= 0) {\t\t\t// �J�[�h�̗�\n\t\tnTr = document.createElement('tr');\n\t\tnTd = document.createElement('td');\n\t\tnTd.style.padding = '1pt';\n\t\tnTable2 = document.createElement('table');\n\t\tnTable2.style.background = this.cardBackColor;\n\t\tnTable2.style.border = 'none';\n\t\tnTable2.style.borderCollapse = 'collapse';\n\t\tnTable2.style.width = '100%';\n\t\tnTable2.style.height = '100%';\n\t\tnTbody2 = document.createElement('tbody');\n\t\tnTr2 = document.createElement('tr');\n\t\tnTd2 = document.createElement('td');\n\t\tnTd2.style.padding = '0pt';\n\t\tvar lineHeight = this.size * 3 + 1;\n\t\tnTd2.style.lineHeight = lineHeight + 'pt';\n\t\tnTd2.appendChild(document.createElement('br'));\n\t\tnTr2.appendChild(nTd2);\n\t\tnTbody2.appendChild(nTr2);\n\t\tnTable2.appendChild(nTbody2);\n\t\tnTd.appendChild(nTable2);\n\t\tnTr.appendChild(nTd);\n\t\tnTbody.appendChild(nTr);\n\t} else {\n\t\tnTable.style.background = this.bgColor;\n\t\tnTable.style.borderColor = this.bgColor;\n\t\tnTr = document.createElement('tr');\n\t\tnTd = document.createElement('td');\n\t\tnTd.style.padding = '1pt';\n\t\tnTd.style.fontSize = this.size + 'pt';\n\t\tnTd.style.fontFamily = 'sans-serif';\n\t\tnTd.style.lineHeight = this.sizeMax + 'pt';\n\t\tnTd.appendChild(document.createElement('br'));\n\t\tnTr.appendChild(nTd);\n\t\tnTbody.appendChild(nTr);\n\t\tnTr = document.createElement('tr');\n\t\tnTd = document.createElement('td');\n\t\tnTd.style.padding = '1pt';\n\t\tnTd.style.lineHeight = this.sizeMin + 'pt';\n\t\tnTd.appendChild(document.createElement('br'));\n\t\tnTr.appendChild(nTd);\n\t\tnTbody.appendChild(nTr);\n\t\tnTr = document.createElement('tr');\n\t\tnTd = document.createElement('td');\n\t\tnTd.style.padding = '1pt';\n\t\tnTd.style.fontSize = this.size + 'pt';\n\t\tnTd.style.fontFamily = 'sans-serif';\n\t\tnTd.style.lineHeight = this.size + 'pt';\n\t\tnTd.appendChild(document.createElement('br'));\n\t\tnTr.appendChild(nTd);\n\t\tnTbody.appendChild(nTr);\n\t}\n\tnTable.appendChild(nTbody);\n\tnode.appendChild(nTable);\n}\n\n//\t�J�[�h�r���[�F�J�[�h�̃N���A\nCardView.prototype.clear = function(id) {\n\tvar node;\n\tif(node = document.getElementById(id)) {\n\t\twhile(true) {\n\t\t\tif(node.childNodes[0] != null) {\n\t\t\t\tnode.removeChild(node.childNodes[0]);\n\t\t\t} else { break; }\n\t\t}\n\t}\n}\n\n//\t�f�B�[�����f���N���X\nfunction DealerModel() {\n\tthis.init();\n}\n\n//\t�f�B�[�����f���F������\nDealerModel.prototype.init = function() {\n\tthis.card = new Array();\n\tthis.holecard = true;\n\tthis.bj = false;\n\tthis.oneCards = new Array();\n\tvar i, card, cardLimit = new Array();\n\tfor (i = 0; i < 13; i++) { cardLimit[i] = 0; }\n\tfor (i = 0; i < 20; i++) {\n\t\twhile (true) {\n\t\t\tcard = dice(1, 13);\n\t\t\tif (cardLimit[card - 1] < 4) {\n\t\t\t\tcardLimit[card - 1]++;\n\t\t\t\tthis.oneCards[i] = card;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n}\n\n//\t�f�B�[�����f���FBJ�`�F�b�N\nDealerModel.prototype.bjCheck = function() {\n\tthis.bj = false;\n\tif (this.card.length != 2) { return false; }\n\tif (this.card[0] == 1) {\n\t\tif (this.card[1] >= 10 && this.card[1] <= 13) {\n\t\t\tthis.bj = true;\n\t\t}\n\t} else if (this.card[0] >= 10 && this.card[0] <= 13) {\n\t\tif (this.card[1] == 1) {\n\t\t\tthis.bj = true;\n\t\t}\n\t}\n}\n\n//\t�f�B�[�����f���F���v�l\nDealerModel.prototype.cardTotal = function() {\n\tvar i, num = 0, ace = 0;\n\tfor (i = 0; i < this.card.length; i++) {\n\t\tif (this.card[i] == 1) { ace = 1; }\n\t\tif (this.card[i] >= 10) { num += 10; }\n\t\telse if (this.card[i] < 0) { num += 0; }\n\t\telse { num += this.card[i]; }\n\t}\n\tif (ace && num <= 11) { num += 10; }\n\tif (this.card.length == 5 && num <= 21) { num = 21; }\n\treturn num;\n}\n\n//\t�v���C�����f���N���X\nfunction PlayerModel(point) {\n\tthis.firstPoint = point;\n\tthis.pointLevel = new Array();\n\tthis.pointOver = 0;\n\tthis.doubleDown = new Array();\n\tvar i, min, tmp = 10;\n\tmin = point;\n\twhile (true) {\n\t\ttmp *= 10;\n\t\tif (min <= tmp) {\n\t\t\tmin = tmp;\n\t\t\tbreak;\n\t\t}\n\t}\n\ti = -1;\n\twhile (true) {\n\t\ti++;\n\t\tmin *= 10;\n\t\tthis.pointLevel[i] = min;\n\t\tif (min >= 100000000) {\n\t\t\tbreak;\n\t\t}\n\t}\n\tthis.fullInit();\n}\n\n//\t�v���C�����f���F���S������\nPlayerModel.prototype.fullInit = function() {\n\tthis.point = this.firstPoint;\n\tthis.bet = 10;\n\tthis.init();\n}\n\n//\t�v���C�����f���F������\nPlayerModel.prototype.init = function() {\n\tthis.card = new Array();\n\tthis.card[0] = new Array();\n\tthis.card[1] = new Array();\n\tthis.bj = false;\n\tthis.insurance = false;\n\tthis.doubleDown[0] = false;\n\tthis.doubleDown[1] = false;\n\tthis.split = 0;\n\tthis.getPoint = 0;\n}\n\n//\t�v���C�����f���FBJ�`�F�b�N\nPlayerModel.prototype.bjCheck = function() {\n\tthis.bj = false;\n\tif (this.card[0].length != 2) { return false; }\n\tif (this.card[0][0] == 1) {\n\t\tif (this.card[0][1] >= 10 && this.card[0][1] <= 13) {\n\t\t\tthis.bj = true;\n\t\t}\n\t} else if (this.card[0][0] >= 10 && this.card[0][0] <= 13) {\n\t\tif (this.card[0][1] == 1) {\n\t\t\tthis.bj = true;\n\t\t}\n\t}\n}\n\n//\t�v���C�����f���F���v�l\nPlayerModel.prototype.cardTotal = function(split) {\n\tvar i, num = 0, ace = 0;\n\tif (split == 2) { split = 1; }\n\telse { split = 0; }\n\tfor (i = 0; i < this.card[split].length; i++) {\n\t\tif (this.card[split][i] == 1) { ace = 1; }\n\t\tif (this.card[split][i] >= 10) { num += 10; }\n\t\telse if (this.card[split][i] < 0) { num += 0; }\n\t\telse { num += this.card[split][i]; }\n\t}\n\tif (ace && num <= 11) { num += 10; }\n\tif (this.card[split].length == 5 && num <= 21) { num = 21; }\n\treturn num;\n}\n\n//\t�N���b�N\nfunction bjClick(id) {\n\tid = id + '';\n\tif (!id.match('_')) { id = this.id; }\n\tvar tmp = id.split('_');\n\tvar fieldId = tmp[0];\n\tvar command = tmp[1];\n\tvar func, str;\n\n\tvar bj = blackJack[fieldId];\n\n\tif (!bj.clickOk) { return false; }\n\telse { bj.clickOk = false; }\n\n\tif (command == 'start') {\n\t\tbj.mode = 'bet', bj.enter();\n\t\tbj.clickOk = true;\n\t} else if (command.match('bet-')) {\n\t\ttmp = command.replace('bet-', '')\n\t\ttmp = tmp.split('-');\n\t\tvar sign = tmp[0], num = tmp[1] - 0;\n\t\tif (sign == 'p') {\n\t\t\tif (num > bj.playerModel.point) {\n\t\t\t\tnum = bj.playerModel.point;\n\t\t\t\tnum -= num % 10;\n\t\t\t}\n\t\t\tif (bj.playerModel.bet + num > 9990) {\n\t\t\t\tnum = 9990 - bj.playerModel.bet;\n\t\t\t}\n\t\t\tbj.playerModel.bet += num;\n\t\t\tbj.playerModel.point -= num;\n\t\t} else if (sign == 'm') {\n\t\t\tif (bj.playerModel.bet - num < 10) {\n\t\t\t\tnum = bj.playerModel.bet - 10;\n\t\t\t}\n\t\t\tbj.playerModel.bet -= num;\n\t\t\tbj.playerModel.point += num;\n\t\t}\n\t\tbj.fieldView.pointView(bj.playerModel.bet, 1);\n\t\tbj.fieldView.pointView(bj.playerModel.point);\n\t\tbj.clickOk = true;\n\t} else if (command == 'deal') {\n\t\tbj.fieldView.messageView('Dealer is dealing ...');\n\t\tbj.fieldView.commandSet();\n\t\tbj.count = 0;\n\t\tfunc = \"bjAction('\" + fieldId + \"', 'firstDeal')\";\n\t\tbj.actionId = setTimeout(func, bj.speed);\n\t} else if (command == 'restart') {\n\t\tbj.playerModel.fullInit();\n\t\tbj.mode = 'bet', bj.enter();\n\t\tbj.clickOk = true;\n\t} else if (command == 'hit') {\n\t\tbj.cardAdd(1, bj.playerModel.split);\n\t\tvar sp = 0;\n\t\tif (bj.playerModel.split == 2) { sp = 1; }\n\t\tif (bj.playerModel.cardTotal(bj.playerModel.split) > 21) {\n\t\t\tbj.fieldView.messageView('Busted !');\n\t\t\tbj.fieldView.commandSet();\n\t\t\tbj.debugView();\n\t\t\tif (bj.playerModel.split == 1) {\n\t\t\t\tfunc = \"bjAction('\" + fieldId + \"', 'splitNext')\";\n\t\t\t\tbj.actionId = setTimeout(func, bj.waitTime);\n\t\t\t} else if (bj.playerModel.split == 2) {\n\t\t\t\tbj.clickOk = true;\n\t\t\t\tfunc = \"bjClick('\" + fieldId + \"_stand')\";\n\t\t\t\tbj.actionId = setTimeout(func, bj.waitTime);\n\t\t\t} else {\n\t\t\t\tfunc = \"bjAction('\" + fieldId + \"', 'judgment')\";\n\t\t\t\tbj.actionId = setTimeout(func, bj.waitTime);\n\t\t\t}\n\t\t} else if (bj.playerModel.card[sp].length == 5) {\n\t\t\tif (bj.playerModel.split == 1) {\n\t\t\t\tbj.playerModel.split++;\n\t\t\t\tbj.fieldView.messageView('Split.');\n\t\t\t\tbj.fieldView.frameSet(2);\n\t\t\t\tbj.mode = 'hitOrStand', bj.enter();\n\t\t\t\tbj.clickOk = true;\n\t\t\t} else {\n\t\t\t\tbj.clickOk = true;\n\t\t\t\tbjClick(fieldId + '_stand');\n\t\t\t}\n\t\t} else {\n\t\t\tbj.mode = 'hitOrStand', bj.enter();\n\t\t\tbj.clickOk = true;\n\t\t}\n\t} else if (command == 'stand') {\n\t\tif (bj.playerModel.split == 2) {\n\t\t\tvar ct1 = bj.playerModel.cardTotal(0);\n\t\t\tvar ct2 = bj.playerModel.cardTotal(2);\n\t\t\tif (ct1 > 21 && ct2 > 21) {\n\t\t\t\tbjAction(fieldId, 'judgment');\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (bj.playerModel.split == 1) {\n\t\t\tbjAction(fieldId, 'splitNext');\n\t\t} else {\n\t\t\tbj.fieldView.frameSet(0);\n\t\t\ttmp = bj.dealerModel.cardTotal();\n\t\t\tif (tmp < 17) {\n\t\t\t\tbj.fieldView.messageView('Dealer is hitting ...');\n\t\t\t} else {\n\t\t\t\tif (bj.dealerModel.bj) {\n\t\t\t\t\tstr = 'BlackJack !';\n\t\t\t\t} else {\n\t\t\t\t\tstr = \"Dealer's hand is '\" + tmp + \"'.\";\n\t\t\t\t}\n\t\t\t\tbj.fieldView.messageView(str);\n\t\t\t}\n\t\t\tbj.fieldView.commandSet();\n\t\t\tbj.holecard();\n\t\t\tif (tmp < 17) {\n\t\t\t\tfunc = \"bjAction('\" + fieldId + \"', 'dealerHit')\";\n\t\t\t\tbj.actionId = setTimeout(func, bj.speed);\n\t\t\t} else {\n\t\t\t\tfunc = \"bjAction('\" + fieldId + \"', 'judgment')\";\n\t\t\t\tbj.actionId = setTimeout(func, bj.waitTime);\n\t\t\t}\n\t\t\tbj.debugView();\n\t\t}\n\t} else if (command == 'surrender') {\n\t\tbj.fieldView.frameSet();\n\t\tbj.playerModel.getPoint = bj.playerModel.bet / 2;\n\t\tbjAction(fieldId, 'getPoint');\n\t} else if (command == 'doubleDown') {\n\t\tvar sp = 0;\n\t\tif (bj.playerModel.split == 2) { sp = 1; }\n\t\tbj.playerModel.doubleDown[sp] = true;\n\t\tbj.playerModel.point -= bj.playerModel.bet;\n\t\tbj.fieldView.pointView(bj.playerModel.point);\n\t\tbj.cardAdd(1, bj.playerModel.split);\n\t\tif (bj.playerModel.cardTotal(bj.playerModel.split) > 21) {\n\t\t\tbj.fieldView.messageView('Busted !');\n\t\t} else {\n\t\t\tbj.fieldView.messageView('DoubleDown !');\n\t\t}\n\t\tbj.fieldView.commandSet();\n\t\tbj.debugView();\n\t\tbj.clickOk = true;\n\t\tfunc = \"bjClick('\" + fieldId + \"_stand')\";\n\t\tbj.actionId = setTimeout(func, bj.waitTime);\n\t} else if (command == 'split') {\n\t\tbj.fieldView.messageView('Split.');\n\t\tbj.fieldView.commandSet();\n\t\tvar card1 = bj.playerModel.card[0][0];\n\t\tvar card2 = bj.playerModel.card[0][1];\n\t\tbj.playerModel.init();\n\t\tbj.playerModel.card[0][0] = card1;\n\t\tbj.playerModel.card[1][0] = card2;\n\t\tbj.playerModel.split = 1;\n\t\tbj.playerModel.point -= bj.playerModel.bet;\n\t\tbj.fieldView.pointView(bj.playerModel.point);\n\t\tbj.cardClearAndSet(1);\n\t\tbj.count = 0;\n\t\tfunc = \"bjAction('\" + fieldId + \"', 'splitDeal')\";\n\t\tbj.actionId = setTimeout(func, bj.speed);\n\t} else if (command == 'insurance') {\n\t\tbj.playerModel.point -= bj.playerModel.bet / 2;\n\t\tbj.fieldView.pointView(bj.playerModel.point);\n\t\tif (bj.dealerModel.bj) {\n\t\t\tbj.fieldView.frameSet(0);\n\t\t\tbj.holecard();\n\t\t\tbj.fieldView.messageView(\"Dealer's hand is 'BJ'.\");\n\t\t\tbj.fieldView.commandSet();\n\t\t\tfunc = \"bjAction('\" + fieldId + \"', 'getInsBet')\";\n\t\t\tbj.actionId = setTimeout(func, bj.waitTime);\n\t\t} else {\n\t\t\tbj.fieldView.frameSet(0);\n\t\t\tbj.fieldView.messageView(\"Dealer's hand is not 'BJ'.\");\n\t\t\tbj.fieldView.commandSet();\n\t\t\tbj.playerModel.insurance = true;\n\t\t\tbj.count = 4;\n\t\t\tfunc = \"bjAction('\" + fieldId + \"', 'firstDeal')\";\n\t\t\tbj.actionId = setTimeout(func, bj.waitTime);\n\t\t}\n\t} else if (command == 'evenMoney') {\n\t\tbj.fieldView.frameSet();\n\t\tbj.playerModel.getPoint = bj.playerModel.bet * 2;\n\t\tbjAction(fieldId, 'getPoint');\n\t}\n}\n\n//\t�^�C�}�p�֐�\nfunction bjAction(fieldId, mode) {\n\tvar bj = blackJack[fieldId];\n\tvar func, id, tmp, str;\n\tif (mode == 'firstDeal') {\n\t\tfunc = \"bjAction('\" + fieldId + \"', 'firstDeal')\";\n\t\tif (bj.count <= 1) {\n\t\t\tbj.cardAdd(1), bj.count++;\n\t\t\tbj.actionId = setTimeout(func, bj.speed);\n\t\t} else if (bj.count == 2) {\n\t\t\tbj.cardAdd(0), bj.count++;\n\t\t\tbj.actionId = setTimeout(func, bj.speed);\n\t\t} else if (bj.count == 3) {\n\t\t\tbj.cardAdd(0, 1), bj.count++;\n\t\t\tbj.actionId = setTimeout(func, bj.speed);\n\t\t} else if (bj.count == 4) {\n\t\t\tbj.mode = 'dealEnd', bj.enter();\n\t\t\tbj.clickOk = true;\n\t\t}\n\t} else if (mode == 'getPoint') {\n\t\tbj.holecard();\n\t\tbj.playerModel.point += bj.playerModel.getPoint;\n\t\tbj.fieldView.pointView(bj.playerModel.point);\n\t\tstr = 'You got ' + bj.playerModel.getPoint + ' points.';\n\t\tbj.fieldView.messageView(str);\n\t\tvar check = true;\n\t\tif (bj.playerModel.pointOver >= 0) {\n\t\t\ttmp = bj.playerModel.pointLevel[bj.playerModel.pointOver];\n\t\t\tif (bj.playerModel.point >= tmp) {\n\t\t\t\tcheck = false;\n\t\t\t\tbj.count = 0;\n\t\t\t\tfunc = \"bjAction('\" + fieldId + \"', 'pointOver')\";\n\t\t\t\tbj.actionId = setTimeout(func, bj.waitTime);\n\t\t\t}\n\t\t}\n\t\tif (check) {\n\t\t\tbj.fieldView.commandSet('next');\n\t\t\tbj.clickOk = true;\n\t\t}\n\t} else if (mode == 'judgment') {\n\t\tbj.fieldView.frameSet();\n\t\tbj.holecard();\n\t\tvar result = bj.judgment(0);\n\t\tif (bj.playerModel.split) {\n\t\t\tvar result2 = bj.judgment(1);\n\t\t\tif (result == 0) { str = 'Lose and '; }\n\t\t\telse if (result == 1) { str = 'Win and '; }\n\t\t\telse if (result == 2) { str = 'Draw and '; }\n\t\t\tif (result2 == 0) { str += 'Lose.'; }\n\t\t\telse if (result2 == 1) { str += 'Win.'; }\n\t\t\telse if (result2 == 2) { str += 'Draw.'; }\n\t\t} else {\n\t\t\tif (result == 0) { str = 'You lost at this game.'; }\n\t\t\telse if (result == 1) { str = 'You won at this game.'; }\n\t\t\telse if (result == 2) { str = 'This game was a draw.'; }\n\t\t}\n\t\tbj.fieldView.messageView(str);\n\t\tif (bj.playerModel.getPoint > 0) {\n\t\t\tfunc = \"bjAction('\" + fieldId + \"', 'getPoint')\";\n\t\t\tbj.actionId = setTimeout(func, bj.waitTime);\n\t\t} else {\n\t\t\tbj.fieldView.commandSet('next');\n\t\t\tbj.clickOk = true;\n\t\t}\n\t} else if (mode == 'dealerHit') {\n\t\tbj.cardAdd(0);\n\t\ttmp = bj.dealerModel.cardTotal();\n\t\tif (tmp > 21) {\n\t\t\tbj.fieldView.messageView('Busted !');\n\t\t\tfunc = \"bjAction('\" + fieldId + \"', 'judgment')\";\n\t\t\tbj.actionId = setTimeout(func, bj.waitTime);\n\t\t} else if (tmp < 17) {\n\t\t\tfunc = \"bjAction('\" + fieldId + \"', 'dealerHit')\";\n\t\t\tbj.actionId = setTimeout(func, bj.speed);\n\t\t} else {\n\t\t\tstr = \"Dealer's hand is '\" + tmp + \"'.\";\n\t\t\tbj.fieldView.messageView(str);\n\t\t\tfunc = \"bjAction('\" + fieldId + \"', 'judgment')\";\n\t\t\tbj.actionId = setTimeout(func, bj.waitTime);\n\t\t}\n\t\tbj.debugView();\n\t} else if (mode == 'splitDeal') {\n\t\tfunc = \"bjAction('\" + fieldId + \"', 'splitDeal')\";\n\t\tif (bj.count == 0) {\n\t\t\tbj.cardAdd(1, 1), bj.count++;\n\t\t\tbj.actionId = setTimeout(func, bj.speed);\n\t\t} else if (bj.count == 1) {\n\t\t\tbj.cardAdd(1, 2), bj.count++;\n\t\t\tbj.actionId = setTimeout(func, bj.speed);\n\t\t} else if (bj.count == 2) {\n\t\t\tbj.fieldView.frameSet(1);\n\t\t\tbj.mode = 'hitOrStand', bj.enter();\n\t\t\tbj.clickOk = true;\n\t\t}\n\t} else if (mode == 'splitNext') {\n\t\tbj.playerModel.split++;\n\t\tbj.fieldView.messageView('Split.');\n\t\tbj.fieldView.frameSet(2);\n\t\tbj.mode = 'hitOrStand', bj.enter();\n\t\tbj.clickOk = true;\n\t} else if (mode == 'getInsBet') {\n\t\ttmp = bj.playerModel.bet * 1.5;\n\t\tbj.playerModel.point += tmp;\n\t\tbj.fieldView.pointView(bj.playerModel.point);\n\t\tstr = 'You got ' + tmp + ' points.';\n\t\tbj.fieldView.messageView(str);\n\t\tbj.fieldView.commandSet('none');\n\t\tfunc = \"bjAction('\" + fieldId + \"', 'judgment')\";\n\t\tbj.actionId = setTimeout(func, bj.waitTime);\n\t} else if (mode == 'pointOver') {\n\t\tif (bj.count == 0) {\n\t\t\tbj.fieldView.messageView('Congratulations !');\n\t\t\tbj.fieldView.commandSet('none');\n\t\t\tbj.count++;\n\t\t\tfunc = \"bjAction('\" + fieldId + \"', 'pointOver')\";\n\t\t\tbj.actionId = setTimeout(func, bj.waitTime);\n\t\t} else if (bj.count == 1) {\n\t\t\ttmp = bj.playerModel.pointLevel[bj.playerModel.pointOver];\n\t\t\tstr = 'Over ' + tmp + ' points !';\n\t\t\tbj.fieldView.messageView(str);\n\t\t\tbj.playerModel.pointOver++;\n\t\t\ttmp = bj.playerModel.pointLevel.length;\n\t\t\tif (bj.playerModel.pointOver >= tmp) {\n\t\t\t\tbj.playerModel.pointOver = -1;\n\t\t\t}\n\t\t\tbj.fieldView.commandSet('next');\n\t\t\tbj.clickOk = true;\n\t\t}\n\t}\n}\n\n//\t�J�[�h�̕��������Ԃ�\nfunction cardStr(num) {\n\tvar cardNum;\n\tif (num == 1) { cardNum = 'A'; }\n\telse if (num == 11) { cardNum = 'J'; }\n\telse if (num == 12) { cardNum = 'Q'; }\n\telse if (num == 13) { cardNum = 'K'; }\n\telse { cardNum = num + ''; }\n\treturn cardNum;\n}\n\n//\t�_�C�X���[��\nfunction dice(num, dice) {\n\tnum = naturalNumCheck(num);\n\tdice = naturalNumCheck(dice, 6);\n\tvar i, result = 0;\n\tfor (i = 0; i < num; i++) {\n\t\tresult += Math.ceil(Math.random() * dice);\n\t}\n\treturn result;\n}\n\n//\t���R���`�F�b�N\nfunction naturalNumCheck(checkNum, returnNum) {\n\tcheckNum -= 0, returnNum -= 0;\n\tif (returnNum < 1 || returnNum == null || isNaN(returnNum)) {\n\t\treturnNum = 1;\n\t}\n\tif (checkNum < 1 || checkNum == null || isNaN(checkNum)) {\n\t\treturn returnNum;\n\t} else { return checkNum; }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}